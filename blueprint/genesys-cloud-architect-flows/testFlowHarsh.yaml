inboundCall:
  name: testHarsh
  division: Home
  startUpRef: "/inboundCall/tasks/task[New Task 2_19]"
  defaultLanguage: en-us
  supportedLanguages:
    en-us:
      defaultLanguageSkill:
        noValue: true
      textToSpeech:
        defaultEngine:
          defaultVoice: true
  initialGreeting:
    tts: Hello, this is the initial greeting.
  variables:
    - stringVariable:
        name: Flow.AccountBalance
        initialValue:
          noValue: true
    - stringVariable:
        name: Flow.associate
        initialValue:
          noValue: true
    - stringVariable:
        name: Flow.associatenumber
        initialValue:
          noValue: true
    - stringVariable:
        name: Flow.Input
        initialValue:
          noValue: true
    - stringVariable:
        name: Flow.name
        initialValue:
          noValue: true
    - stringVariable:
        name: Flow.place
        initialValue:
          noValue: true
    - stringVariable:
        name: Flow.role
        initialValue:
          noValue: true
    - stringVariable:
        name: Flow.TNnum
        initialValue:
          noValue: true
  settingsActionDefaults:
    playAudioOnSilence:
      timeout:
        lit:
          seconds: 40
    detectSilence:
      timeout:
        lit:
          seconds: 40
    callData:
      processingPrompt:
        noValue: true
    collectInput:
      noEntryTimeout:
        lit:
          seconds: 5
    dialByExtension:
      interDigitTimeout:
        lit:
          seconds: 6
    transferToUser:
      connectTimeout:
        noValue: true
    transferToNumber:
      connectTimeout:
        noValue: true
    transferToGroup:
      connectTimeout:
        noValue: true
    transferToFlowSecure:
      connectTimeout:
        lit:
          seconds: 15
  settingsErrorHandling:
    errorHandling:
      disconnect:
        none: true
    preHandlingAudio:
      tts: Sorry, an error occurred. Please try your call again.
  settingsMenu:
    extensionDialingMaxDelay:
      lit:
        seconds: 1
    listenForExtensionDialing:
      lit: true
    menuSelectionTimeout:
      lit:
        seconds: 10
    repeatCount:
      lit: 3
  settingsPrompts:
    ensureAudioInPrompts: false
    promptMediaToValidate:
      - mediaType: audio
      - mediaType: tts
  settingsSpeechRec:
    completeMatchTimeout:
      lit:
        ms: 100
    incompleteMatchTimeout:
      lit:
        ms: 1500
    maxSpeechLengthTimeout:
      lit:
        seconds: 20
    minConfidenceLevel:
      lit: 50
    asrCompanyDir: none
    asrEnabledOnFlow: true
    suppressRecording: false
  menus:
    - menu:
        name: Main Menu
        refId: Main Menu_10
        audio:
          tts: You are at the Main Menu, press 9 to disconnect
        settingsMenu:
          extensionDialingMaxDelay:
            noValue: true
          listenForExtensionDialing:
            noValue: true
          menuSelectionTimeout:
            noValue: true
          repeatCount:
            noValue: true
        settingsSpeechRec:
          completeMatchTimeout:
            noValue: true
          incompleteMatchTimeout:
            noValue: true
          maxSpeechLengthTimeout:
            noValue: true
          minConfidenceLevel:
            noValue: true
        choices:
          - menuDisconnect:
              name: Disconnect
              dtmf: digit_9
              globalDtmf: false
              globalSpeechRecTerms: false
    - menu:
        name: starting menu
        refId: starting menu_29
        audio:
          tts: "Welcome to ABC , in order to hear account balance press 1, Account information press 2 "
        settingsMenu:
          extensionDialingMaxDelay:
            noValue: true
          listenForExtensionDialing:
            noValue: true
          menuSelectionTimeout:
            noValue: true
          repeatCount:
            noValue: true
        settingsSpeechRec:
          completeMatchTimeout:
            noValue: true
          incompleteMatchTimeout:
            noValue: true
          maxSpeechLengthTimeout:
            noValue: true
          minConfidenceLevel:
            noValue: true
        choices:
          - menuTask:
              name: Account balance
              dtmf: digit_1
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - callTask:
                      name: Call Task
                      targetTaskRef: "/inboundCall/tasks/task[Account balance_34]"
                      outputs:
                        default:
                          actions:
                            - updateData:
                                name: Update Data
                                statements:
                                  - string:
                                      variable: Flow.AccountBalance
                                      value:
                                        exp: Flow.Account
                            - setParticipantData:
                                name: Set Participant Data
                                attributes:
                                  - attribute:
                                      name:
                                        lit: AccountBalance
                                      value:
                                        exp: Flow.AccountBalance
                            - getParticipantData:
                                name: Get Participant Data
                                attributes:
                                  - attribute:
                                      name:
                                        lit: AccountBalance
                                      variable: Flow.AccountBalance
                            - playAudio:
                                name: Play Audio
              speechRecTerms:
                en-us:
                  terms:
                    - Balance
                    - yes
                    - right
          - menuTask:
              name: Account information
              dtmf: digit_2
              globalDtmf: false
              globalSpeechRecTerms: false
  tasks:
    - task:
        name: New Task 1
        refId: New Task 1_12
        actions:
          - collectInput:
              name: Collect Input
              inputData:
                var: Flow.associatenumber
              digits:
                range:
                  min: 1
                  max: 20
              interDigitTimeout:
                noValue: true
              noEntryTimeout:
                lit:
                  seconds: 10
              inputAudio:
                tts: please enter the associate number
              acceptJustStar:
                lit: false
              acceptJustPound:
                lit: false
              verificationType: none
              outputs:
                success:
                  actions:
                    - updateData:
                        name: Update Data
                        statements:
                          - string:
                              variable: Flow.associate
                              value:
                                exp: Flow.associatenumber
                    - setParticipantData:
                        name: Set Participant Data
                        attributes:
                          - attribute:
                              name:
                                lit: associate
                              value:
                                exp: Flow.associate
                    - dataTableLookup:
                        name: Data Table Lookup
                        lookupValue:
                          exp: Flow.associatenumber
                        dataTable:
                          Associate_Table:
                            foundOutputs:
                              Name:
                                var: Flow.name
                              place:
                                var: Flow.place
                              role:
                                var: Flow.role
                            failureOutputs:
                              errorType:
                                noValue: true
                              errorMessage:
                                noValue: true
                        outputs:
                          found:
                            actions:
                              - transferToAcd:
                                  name: Transfer to ACD
                                  targetQueue:
                                    lit:
                                      name: Test_queue1
                                  acdSkills:
                                    - acdSkill:
                                        lit:
                                          name: Account Information
                                    - acdSkill:
                                        lit:
                                          name: Account Balance
                                  overrideInQueueFlow:
                                    name: abcd
                                  priority:
                                    lit: 0
                                  preferredAgents:
                                    noValue: true
                                  languageSkill:
                                    noValue: true
                                  failureOutputs:
                                    errorType:
                                      noValue: true
                                    errorMessage:
                                      noValue: true
                failure:
                  actions:
                    - evaluateScheduleGroup:
                        name: Evaluate Schedule Group
                        inServiceSchedules:
                          noValue: true
                        evaluate:
                          now: true
                        scheduleGroup:
                          lit:
                            name: MToF Business Hours
                          name: MToF Business Hours
                        emergencyGroup:
                          lit:
                            name: Emergency_Test
                          name: Emergency_Test
          - disconnect:
              name: Disconnect
    - task:
        name: New Task 2
        refId: New Task 2_19
        actions:
          - collectInput:
              name: Collect Input
              inputData:
                var: Flow.Input
              digits:
                range:
                  min: 1
                  max: 20
              interDigitTimeout:
                noValue: true
              noEntryTimeout:
                noValue: true
              inputAudio:
                tts: enter the phone number to call sane number  press 1 or different number press 2
              acceptJustStar:
                lit: false
              acceptJustPound:
                lit: false
              verificationType: none
              outputs:
                success:
                  actions:
                    - switch:
                        name: Switch
                        evaluate:
                          firstTrue:
                            cases:
                              - case:
                                  value:
                                    exp: Flow.Input == "1"
                                  actions:
                                    - createCallback:
                                        name: Create Callback
                                        queue:
                                          lit:
                                            name: Test_queue1
                                        callbackNumber:
                                          exp: ToPhoneNumber(Call.Ani)
                                        calleeName:
                                          noValue: true
                                        callbackScript:
                                          Default Callback Script:
                                            none: true
                                    - disconnect:
                                        name: Disconnect
                              - case:
                                  value:
                                    exp: Flow.Input == "2"
                                  actions:
                                    - collectInput:
                                        name: Collect Input
                                        inputData:
                                          var: Flow.TNnum
                                        digits:
                                          range:
                                            min: 1
                                            max: 20
                                        interDigitTimeout:
                                          noValue: true
                                        noEntryTimeout:
                                          lit:
                                            seconds: 10
                                        inputAudio:
                                          tts: Enter the number you for a call back
                                        acceptJustStar:
                                          lit: false
                                        acceptJustPound:
                                          lit: false
                                        verificationType: none
                                        outputs:
                                          success:
                                            actions:
                                              - createCallback:
                                                  name: Create Callback
                                                  queue:
                                                    lit:
                                                      name: Test_queue1
                                                  callbackNumber:
                                                    exp: ToPhoneNumber(Flow.TNnum)
                                                  calleeName:
                                                    noValue: true
                                                  callbackScript:
                                                    Default Callback Script:
                                                      none: true
                                              - disconnect:
                                                  name: Disconnect
          - disconnect:
              name: Disconnect
    - task:
        name: Account balance
        refId: Account balance_34
