inboundCall:
  name: BFSI_POC
  division: Home
  startUpRef: "/inboundCall/tasks/task[Initial Task_176]"
  defaultLanguage: en-us
  supportedLanguages:
    en-us:
      defaultLanguageSkill:
        lit:
          name: English (en-us)
      textToSpeech:
        Genesys Enhanced TTS:
          voice: en-US-EmmaNeural
  variables:
    - stringVariable:
        name: Flow.AccntnoMasked
        initialValue:
          noValue: true
    - integerVariable:
        name: Flow.Account
        initialValue:
          noValue: true
    - stringVariable:
        name: Flow.Accountno
        initialValue:
          noValue: true
    - stringVariable:
        name: Flow.AccountType
        initialValue:
          noValue: true
    - stringCollectionVariable:
        name: Flow.AllNotesList
        initialValue:
          noValue: true
    - stringVariable:
        name: Flow.Amount
        initialValue:
          noValue: true
    - stringVariable:
        name: Flow.ani
        initialValue:
          noValue: true
    - stringVariable:
        name: Flow.Auth
        initialValue:
          noValue: true
    - stringVariable:
        name: Flow.caseNumber
        initialValue:
          noValue: true
    - stringVariable:
        name: Flow.CBalance
        initialValue:
          noValue: true
    - stringVariable:
        name: Flow.Ccredit
        initialValue:
          noValue: true
    - stringVariable:
        name: Flow.cname
        initialValue:
          noValue: true
    - integerVariable:
        name: Flow.Counter
        initialValue:
          noValue: true
    - stringVariable:
        name: Flow.CreatedDate
        initialValue:
          noValue: true
    - dateTimeVariable:
        name: Flow.CreatedTime_D
        initialValue:
          noValue: true
    - stringVariable:
        name: Flow.creditcard
        initialValue:
          noValue: true
    - stringVariable:
        name: Flow.DBalance
        initialValue:
          noValue: true
    - stringVariable:
        name: Flow.DCBalance
        initialValue:
          noValue: true
    - stringVariable:
        name: Flow.DialogRetry
        initialValue:
          noValue: true
    - integerVariable:
        name: Flow.DialogRetryCounter
        initialValue:
          noValue: true
    - stringVariable:
        name: Flow.ExtContractID
        initialValue:
          noValue: true
    - stringVariable:
        name: Flow.FromAccount
        initialValue:
          noValue: true
    - stringVariable:
        name: Flow.IRate
        initialValue:
          noValue: true
    - stringVariable:
        name: Flow.LastModifiedDate
        initialValue:
          noValue: true
    - stringVariable:
        name: Flow.LastNote
        initialValue:
          noValue: true
    - dateTimeVariable:
        name: Flow.LastUpdated_D
        initialValue:
          noValue: true
    - stringVariable:
        name: Flow.Mbalance
        initialValue:
          noValue: true
    - stringVariable:
        name: Flow.MdueDate
        initialValue:
          noValue: true
    - stringVariable:
        name: Flow.MLastPayment
        initialValue:
          noValue: true
    - stringVariable:
        name: Flow.MNextPayAmt
        initialValue:
          noValue: true
    - stringVariable:
        name: Flow.MpayDate
        initialValue:
          noValue: true
    - stringVariable:
        name: Flow.Name
        initialValue:
          noValue: true
    - stringVariable:
        name: Flow.NoteID
        initialValue:
          noValue: true
    - stringVariable:
        name: Flow.Pamount
        initialValue:
          noValue: true
    - stringVariable:
        name: Flow.PCheckNo
        initialValue:
          noValue: true
    - stringVariable:
        name: Flow.PDate
        initialValue:
          noValue: true
    - stringCollectionVariable:
        name: Flow.PendingAmountList
        initialValue:
          noValue: true
    - integerCollectionVariable:
        name: Flow.PendingCheckList
        initialValue:
          noValue: true
    - integerVariable:
        name: Flow.PendingCounter
        initialValue:
          noValue: true
    - dateTimeCollectionVariable:
        name: Flow.PendingDateList
        initialValue:
          noValue: true
    - stringCollectionVariable:
        name: Flow.PendingTransType
        initialValue:
          noValue: true
    - stringVariable:
        name: Flow.PIN
        initialValue:
          noValue: true
    - stringCollectionVariable:
        name: Flow.PostedAmountList
        initialValue:
          noValue: true
    - integerCollectionVariable:
        name: Flow.PostedCheckList
        initialValue:
          noValue: true
    - integerVariable:
        name: Flow.PostedCounter
        initialValue:
          noValue: true
    - dateTimeCollectionVariable:
        name: Flow.PostedDateList
        initialValue:
          noValue: true
    - stringCollectionVariable:
        name: Flow.PostedTransType
        initialValue:
          noValue: true
    - stringVariable:
        name: Flow.RBalance
        initialValue:
          noValue: true
    - stringVariable:
        name: Flow.RewardBalance
        initialValue:
          noValue: true
    - stringVariable:
        name: Flow.SBalance
        initialValue:
          noValue: true
    - stringVariable:
        name: Flow.SelectedOption
        initialValue:
          noValue: true
    - stringVariable:
        name: Flow.Tamount
        initialValue:
          noValue: true
    - stringVariable:
        name: Flow.TCheckNo
        initialValue:
          noValue: true
    - stringVariable:
        name: Flow.TDate
        initialValue:
          noValue: true
    - stringVariable:
        name: Flow.TType
        initialValue:
          noValue: true
  settingsActionDefaults:
    playAudioOnSilence:
      timeout:
        lit:
          seconds: 40
    detectSilence:
      timeout:
        lit:
          seconds: 40
    callData:
      processingPrompt:
        noValue: true
    collectInput:
      noEntryTimeout:
        lit:
          seconds: 5
    dialByExtension:
      interDigitTimeout:
        lit:
          seconds: 6
    transferToUser:
      connectTimeout:
        noValue: true
    transferToNumber:
      connectTimeout:
        noValue: true
    transferToGroup:
      connectTimeout:
        noValue: true
    transferToFlowSecure:
      connectTimeout:
        lit:
          seconds: 15
  settingsErrorHandling:
    errorHandling:
      disconnect:
        none: true
    preHandlingAudio:
      tts: Sorry, an error occurred. Please try your call again.
  settingsMenu:
    extensionDialingMaxDelay:
      lit:
        seconds: 1
    listenForExtensionDialing:
      lit: false
    menuSelectionTimeout:
      lit:
        seconds: 10
    repeatCount:
      lit: 0
  settingsPrompts:
    ensureAudioInPrompts: false
    promptMediaToValidate:
      - mediaType: audio
      - mediaType: tts
  settingsSpeechRec:
    completeMatchTimeout:
      lit:
        ms: 100
    incompleteMatchTimeout:
      lit:
        ms: 1500
    maxSpeechLengthTimeout:
      lit:
        seconds: 20
    minConfidenceLevel:
      lit: 40
    asrCompanyDir: entireFlow
    asrEnabledOnFlow: true
    suppressRecording: false
  menus:
    - menu:
        name: Language Selection
        refId: Language Selection_10
        audio:
          tts: presione 9 para espa√±ol
        settingsMenu:
          extensionDialingMaxDelay:
            lit:
              ms: 0
          listenForExtensionDialing:
            noValue: true
          menuSelectionTimeout:
            lit:
              ms: 500
          repeatCount:
            lit: 0
        settingsSpeechRec:
          completeMatchTimeout:
            noValue: true
          incompleteMatchTimeout:
            noValue: true
          maxSpeechLengthTimeout:
            noValue: true
          minConfidenceLevel:
            noValue: true
        choices:
          - menuTask:
              name: Spanish Input
              dtmf: digit_9
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - updateData:
                      name: Update Data
                      statements:
                        - integer:
                            variable: Flow.Counter
                            value:
                              lit: 0
                  - jumpToTask:
                      name: Jump to Reusable Task
                      targetTaskRef: "/inboundCall/tasks/task[CSR_392]"
              speechRecTerms:
                en-us:
                  terms:
                    - Spanish
          - menuTask:
              name: English
              dtmf: digit_1
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - updateData:
                      name: Update Data
                      statements:
                        - integer:
                            variable: Flow.DialogRetryCounter
                            value:
                              lit: 0
                  - updateData:
                      name: Update Data
                      statements:
                        - integer:
                            variable: Flow.Counter
                            value:
                              lit: 0
                  - setLanguage:
                      name: Set Language
                      languageValue:
                        lit: en-us
                      language: en-us
                  - playAudio:
                      name: Play Audio
                      audio:
                        tts: Please note that this call may be recorded for monitoring and compliance purposes.
                  - jumpToMenu:
                      name: Jump to Menu
                      targetMenuRef: "/inboundCall/menus/menu[Receive SMS ?_1376]"
              speechRecTerms:
                en-us:
                  terms:
                    - English
          - menuTask:
              name: No input
              refId: No input_179
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - updateData:
                      name: Update Data
                      statements:
                        - integer:
                            variable: Flow.DialogRetryCounter
                            value:
                              lit: 0
                  - updateData:
                      name: Update Data
                      statements:
                        - integer:
                            variable: Flow.Counter
                            value:
                              lit: 0
                  - setLanguage:
                      name: Set Language
                      languageValue:
                        lit: en-us
                      language: en-us
                  - playAudio:
                      name: Play Audio
                      audio:
                        tts: Please note that this call may be recorded for monitoring and compliance purposes.
                  - jumpToMenu:
                      name: Jump to Menu
                      targetMenuRef: "/inboundCall/menus/menu[Receive SMS ?_1376]"
              speechRecTerms:
                en-us:
                  terms:
                    - no input
        defaultChildMenuRef: "./choices/menuTask[No input_179]"
    - menu:
        name: ABC Bank Main Menu
        refId: ABC Bank Main Menu_127
        audio:
          exp: AudioPlaybackOptions(If(IsNotSetOrEmpty(Flow.Name), If(0 == Flow.DialogRetryCounter, Append(ToAudioTTS("How can I help you. I can help you with things such as Account Information, Transaction History, Rewards, Fund Transfer, Change PIN, Payments,Tickets,BFSI buddy"), ToAudioTTS("Any time you can say customer service to speak to a customer service representative")), ToAudioTTS("For Account Information you can say Account Information or \npress 1. For Transaction History you can say Transaction History or press 2. For Rewards you can say Rewards or press 3. For  Fund Transfer you can say Fund Transfer or press 4. For Change PIN you can say Change PIN or press 5. For Payments you can say  Payments or press 6. To open a new ticket or to know the status of the existing ticket say Tickets or press 7 . To talk to a BFSI Buddy press 8")), If(0 == Flow.DialogRetryCounter, Append(ToAudioTTS("How can I help you. I can help you with things such as Account Information, Transaction History, Rewards, Fund Transfer, Change PIN, Payments,Tickets,BFSI Buddy"), ToAudioBlank(500), ToAudioTTS("Any time you can say customer service to speak to a customer service representative")), ToAudioTTS("For Account Information you can say Account Information or \npress 1. For Transaction History you can say Transaction History or press 2. For Rewards you can say Rewards or press 3. For  Fund Transfer you can say Fund Transfer or press 4. For Change PIN you can say Change PIN or press 5. For Payments you can say  Payments or press 6.To open a new ticket or to know the status of the existingAppend() ticket say Tickets or press 7 . To talk to BFSI Buddy press 8"))), true)
        settingsMenu:
          extensionDialingMaxDelay:
            noValue: true
          listenForExtensionDialing:
            noValue: true
          menuSelectionTimeout:
            noValue: true
          repeatCount:
            lit: 2
        settingsSpeechRec:
          completeMatchTimeout:
            noValue: true
          incompleteMatchTimeout:
            noValue: true
          maxSpeechLengthTimeout:
            noValue: true
          minConfidenceLevel:
            lit: 40
        choices:
          - menuTask:
              name: 1.Account Information
              dtmf: digit_1
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - callTask:
                      name: Set Flow Outcome
                      targetTaskRef: "/inboundCall/tasks/task[Authentication_229]"
                  - updateData:
                      name: Update Data
                      statements:
                        - string:
                            variable: Flow.AccntnoMasked
                            value:
                              exp: Replace(Flow.Accountno,Substring(Flow.Accountno,0,4),"XXXXX")
                  - updateData:
                      name: Update Data
                      statements:
                        - integer:
                            variable: Flow.DialogRetryCounter
                            value:
                              lit: 0
                  - callData:
                      name: Call Data Action
                      processingPrompt:
                        noValue: true
                      timeout:
                        lit:
                          minutes: 1
                      category:
                        Genesys Cloud Data Actions:
                          dataAction:
                            External Contact Update Note -BFSI(Don't Delete):
                              inputs:
                                contactID:
                                  exp: Flow.ExtContractID
                                NoteText:
                                  exp: "\"Account Balance\" + ToString(GetCurrentDateTimeUtc()) + \";\" + Call.ConversationId"
                                NoteID:
                                  exp: Flow.NoteID
                  - setParticipantData:
                      name: Set Participant Data
                      attributes:
                        - attribute:
                            name:
                              lit: Selected_Option
                            value:
                              lit: Account_information
                  - setFlowOutcome:
                      name: Set Flow Outcome
                      flowOutcomeValue: SUCCESS
                      flowOutcome:
                        name: Selfservice_AccountInfo
                  - jumpToMenu:
                      name: Jump to Menu
                      targetMenuRef: "/inboundCall/menus/menu[Confirm Account Type_208]"
              speechRecTerms:
                en-us:
                  terms:
                    - Account Information
                    - Account
                    - What is my current account Status
                    - I want to know my account details
                    - Account related Enquiry
                    - I want More Information About my Account
                    - Details About My account Information
                    - Information of my account
          - menuTask:
              name: 1.Transaction History
              dtmf: digit_2
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - callTask:
                      name: Call Task
                      targetTaskRef: "/inboundCall/tasks/task[Authentication_229]"
                  - updateData:
                      name: Update Data
                      statements:
                        - integer:
                            variable: Flow.DialogRetryCounter
                            value:
                              lit: 0
                  - callData:
                      name: Call Data Action
                      processingPrompt:
                        noValue: true
                      timeout:
                        lit:
                          minutes: 1
                      category:
                        Genesys Cloud Data Actions:
                          dataAction:
                            External Contact Update Note -BFSI(Don't Delete):
                              inputs:
                                contactID:
                                  exp: Flow.ExtContractID
                                NoteText:
                                  exp: "\"Transaction History\" + ToString(GetCurrentDateTimeUtc()) + \";\" + Call.ConversationId"
                                NoteID:
                                  exp: Flow.NoteID
                  - setParticipantData:
                      name: Set Participant Data
                      attributes:
                        - attribute:
                            name:
                              lit: Selected_Option
                            value:
                              lit: Transaction_History
                  - jumpToMenu:
                      name: Jump to Menu
                      targetMenuRef: "/inboundCall/menus/menu[Confirm Account Type_208]"
              speechRecTerms:
                en-us:
                  terms:
                    - Transaction
                    - Transaction Details
                    - Transaction History Status
                    - Detail About Transaction of my account
                    - History of mine Transaction
                    - All my Transaction details
                    - I  Want my transaction History
                    - want my all Transaction History
                    - "I want to know about my latest transaction details "
          - menuTask:
              name: 1.Rewards
              dtmf: digit_3
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - callTask:
                      name: Call Task
                      targetTaskRef: "/inboundCall/tasks/task[Authentication_229]"
                  - updateData:
                      name: Update Data
                      statements:
                        - integer:
                            variable: Flow.DialogRetryCounter
                            value:
                              lit: 0
                  - callData:
                      name: Call Data Action
                      processingPrompt:
                        noValue: true
                      timeout:
                        lit:
                          minutes: 1
                      category:
                        Genesys Cloud Data Actions:
                          dataAction:
                            External Contact Update Note -BFSI(Don't Delete):
                              inputs:
                                contactID:
                                  exp: Flow.ExtContractID
                                NoteText:
                                  exp: "\"Rewards\" + ToString(GetCurrentDateTimeUtc()) + \";\" + Call.ConversationId"
                                NoteID:
                                  exp: Flow.NoteID
                  - setParticipantData:
                      name: Set Participant Data
                      attributes:
                        - attribute:
                            name:
                              lit: Selected_Option
                            value:
                              lit: Rewards
                  - jumpToMenu:
                      name: Jump to Menu
                      targetMenuRef: "/inboundCall/menus/menu[Confirm Rewards Choice_444]"
              speechRecTerms:
                en-us:
                  terms:
                    - Rewards
                    - Reward Details
                    - I want to know Reward related information
                    - "Reward on my account "
                    - All my Rewards details
                    - I  Want my Reward Details
                    - want my all Reward Details
                    - Detail of my Rewards
                    - Detail About Rewards
          - menuTask:
              name: 1.Fund Transfer
              dtmf: digit_4
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - callTask:
                      name: Call Task
                      targetTaskRef: "/inboundCall/tasks/task[Authentication_229]"
                      outputs:
                        default:
                          actions:
                            - updateData:
                                name: Update Data
                                statements:
                                  - integer:
                                      variable: Flow.DialogRetryCounter
                                      value:
                                        lit: 0
                  - callData:
                      name: Call Data Action
                      processingPrompt:
                        noValue: true
                      timeout:
                        lit:
                          minutes: 1
                      category:
                        Genesys Cloud Data Actions:
                          dataAction:
                            External Contact Update Note -BFSI(Don't Delete):
                              inputs:
                                contactID:
                                  exp: Flow.ExtContractID
                                NoteText:
                                  exp: "\"FundTransfer\" + ToString(GetCurrentDateTimeUtc()) + \";\" + Call.ConversationId"
                                NoteID:
                                  exp: Flow.NoteID
                  - setParticipantData:
                      name: Set Participant Data
                      attributes:
                        - attribute:
                            name:
                              lit: Selected_Option
                            value:
                              lit: Fund_Transfer
                  - jumpToMenu:
                      name: Jump to Menu
                      targetMenuRef: "/inboundCall/menus/menu[Transfer_Fund_FROM_ACC_793]"
              speechRecTerms:
                en-us:
                  terms:
                    - Fund Transfer
                    - Fund Transfer Details
                    - I am having query  With my fund transfer
                    - "I wanna do Fund Transfer "
                    - I wanted to know FundTransfer Related Information
                    - Regarding FUnd Transfer Inquiry
                    - I want to do fund transfer
          - menuTask:
              name: 1.Change PIN
              dtmf: digit_5
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - jumpToTask:
                      name: Jump to Reusable Task
                      targetTaskRef: "/inboundCall/tasks/task[CSR_392]"
                  - disconnect:
                      name: Disconnect
              speechRecTerms:
                en-us:
                  terms:
                    - Change Pin
                    - Regarding Pin change information
                    - How to do pin change?
                    - PIn Change Information
                    - I am having Query regarding pin
                    - I wanted to Know pin Change details.
                    - I wanna do Pin change of my account.
          - menuTask:
              name: No_Input1
              refId: No_Input1_218
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - playAudio:
                      name: Play Audio
                      audio:
                        tts: Sorry we did not recognise your response
                  - decision:
                      name: Decision
                      condition:
                        exp: Flow.DialogRetryCounter == 2
                      outputs:
                        "yes":
                          actions:
                            - disconnect:
                                name: Disconnect
                        "no":
                          actions:
                            - updateData:
                                name: Update Data
                                statements:
                                  - integer:
                                      variable: Flow.DialogRetryCounter
                                      value:
                                        exp: Flow.DialogRetryCounter + 1
                            - jumpToMenu:
                                name: Jump to Menu
                                targetMenuRef: "/inboundCall/menus/menu[ABC Bank Main Menu_127]"
              speechRecTerms:
                en-us:
                  terms:
                    - No Input
          - menuTask:
              name: 1.Payments
              dtmf: digit_6
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - playAudio:
                      name: Play Audio
                      audio:
                        tts: Being a valued customer, your payment  is important to us. Automated  payment by phone  is not free.  to avoid  fees,  you can pay online , at a branch  or by mail. You have the option  to do  one-time  or recurring  payments to out website  or by speaking  to a banker.
                  - jumpToMenu:
                      name: Jump to Menu
                      targetMenuRef: "/inboundCall/menus/menu[Request Confirmation_496]"
              speechRecTerms:
                en-us:
                  terms:
                    - payment
                    - payments
                    - I want Status about my Payment.
                    - Payment Details of my account.
                    - I am having payment regarding query.
                    - How to do payment?
                    - I wanted to know payment information
                    - Payment status of my account.
                    - I am having enquiry about my payment
          - menuTask:
              name: 1.Ticket
              dtmf: digit_7
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - callTask:
                      name: Call Task
                      targetTaskRef: "/inboundCall/tasks/task[Authentication_229]"
                  - updateData:
                      name: Update Data
                      statements:
                        - string:
                            variable: Flow.AccntnoMasked
                            value:
                              exp: Replace(Flow.Accountno,Substring(Flow.Accountno,0,4),"XXXXX")
                  - updateData:
                      name: Update Data
                      statements:
                        - integer:
                            variable: Flow.DialogRetryCounter
                            value:
                              lit: 0
                  - callData:
                      name: Call Data Action
                      processingPrompt:
                        noValue: true
                      timeout:
                        lit:
                          minutes: 1
                      category:
                        Genesys Cloud Data Actions:
                          dataAction:
                            External Contact Update Note -BFSI(Don't Delete):
                              inputs:
                                contactID:
                                  exp: Flow.ExtContractID
                                NoteText:
                                  exp: "\"Case Related\" + ToString(GetCurrentDateTimeUtc()) + \";\" + Call.ConversationId"
                                NoteID:
                                  exp: Flow.NoteID
                  - setFlowOutcome:
                      name: Set Flow Outcome
                      flowOutcomeValue: SUCCESS
                      flowOutcome:
                        name: Salesforce Case
                  - jumpToMenu:
                      name: Jump to Menu
                      targetMenuRef: "/inboundCall/menus/menu[New or Existing ticket?_1219]"
              speechRecTerms:
                en-us:
                  terms:
                    - Tickets
                    - i want to open a ticket
                    - status of my ticket
                    - i want to know status of my ticket
                    - ticket status
                    - open a new ticket
                    - open a ticket
                    - existing ticket
                    - ticket
                    - I want to know status of Existing ticket.
                    - I need information about my Existing ticket
                    - I need information of my Ticket
                    - i wanted to know about ticket status of my account.
                    - Regarding My ticket details.
          - menuTask:
              name: BFSI Buddy
              dtmf: digit_8
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - jumpToTask:
                      name: Jump to Reusable Task
                      targetTaskRef: "/inboundCall/tasks/task[Call BFSI Buddy_1405]"
              speechRecTerms:
                en-us:
                  terms:
                    - Buddy
                    - BFSI Buddy
        defaultChildMenuRef: "./choices/menuTask[No_Input1_218]"
    - menu:
        name: Confirm Account Type
        refId: Confirm Account Type_208
        audio:
          exp: AudioPlaybackOptions(If(0 == Flow.DialogRetryCounter, ToAudioTTS("What type of account are you calling about? Just say Checking, Savings, Credit Card, Debit Card, Deposit, or Mortgage?"), ToAudioTTS("For Checking you can say Checking or  press 1. For Savings you can say Savings or press 2. For Credit Card you can say Credit Card or press 3. For Debit Card you can say Debit Card or press 4. For Deposit you can say Deposit or press 5. For Mortgage you can say Mortgage or press 6.")), true)
        settingsMenu:
          extensionDialingMaxDelay:
            noValue: true
          listenForExtensionDialing:
            noValue: true
          menuSelectionTimeout:
            noValue: true
          repeatCount:
            lit: 2
        settingsSpeechRec:
          completeMatchTimeout:
            noValue: true
          incompleteMatchTimeout:
            noValue: true
          maxSpeechLengthTimeout:
            noValue: true
          minConfidenceLevel:
            noValue: true
        choices:
          - menuTask:
              name: Deposit
              dtmf: digit_5
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - updateData:
                      name: Update Data
                      statements:
                        - integer:
                            variable: Flow.DialogRetryCounter
                            value:
                              lit: 0
                  - setParticipantData:
                      name: Set Participant Data
                      attributes:
                        - attribute:
                            name:
                              lit: Account_Type
                            value:
                              lit: Deposit
                  - getParticipantData:
                      name: Get Participant Data
                      attributes:
                        - attribute:
                            name:
                              lit: Selected_Option
                            variable: Flow.SelectedOption
                  - decision:
                      name: Decision
                      condition:
                        exp: Flow.SelectedOption == "Transaction_History"
                      outputs:
                        "yes":
                          actions:
                            - jumpToMenu:
                                name: Jump to Menu
                                targetMenuRef: "/inboundCall/menus/menu[Trans For Credit, Loan, Mortgage, Deposit_582]"
                        "no":
                          actions:
                            - playAudio:
                                name: Play Audio
                                audio:
                                  exp: AudioPlaybackOptions(Append(ToAudioTTS("Your current balance is"), ToAudioCurrency(MakeCurrency(ToDecimal(Flow.DBalance), "USD"))), true)
                            - jumpToMenu:
                                name: Jump to Menu
                                targetMenuRef: "/inboundCall/menus/menu[Confirm Additional Info Choice_406]"
              speechRecTerms:
                en-us:
                  terms:
                    - Deposit
          - menuTask:
              name: Mortgage
              dtmf: digit_6
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - callTask:
                      name: Call Task
                      targetTaskRef: "/inboundCall/tasks/task[Authentication_229]"
                  - updateData:
                      name: Update Data
                      statements:
                        - integer:
                            variable: Flow.DialogRetryCounter
                            value:
                              lit: 0
                  - setParticipantData:
                      name: Set Participant Data
                      attributes:
                        - attribute:
                            name:
                              lit: Account_Type
                            value:
                              lit: Mortgage
                  - getParticipantData:
                      name: Get Participant Data
                      attributes:
                        - attribute:
                            name:
                              lit: Selected_Option
                            variable: Flow.SelectedOption
                  - decision:
                      name: Decision
                      condition:
                        exp: Flow.SelectedOption == "Transaction_History"
                      outputs:
                        "yes":
                          actions:
                            - jumpToMenu:
                                name: Jump to Menu
                                targetMenuRef: "/inboundCall/menus/menu[Trans For Credit, Loan, Mortgage, Deposit_582]"
                        "no":
                          actions:
                            - playAudio:
                                name: Play Audio
                                audio:
                                  exp: AudioPlaybackOptions(Append(ToAudioTTS("Your outstanding balance is "), ToAudioCurrency(MakeCurrency(ToDecimal(Flow.Mbalance), "USD")), ToAudioTTS("Your last payment was on"), ToAudioDate(ToDateTime(Flow.MdueDate)), ToAudioTTS("and was received on"), ToAudioDate(ToDateTime(Flow.MLastPayment)), ToAudioTTS("Your next payment amount is "), ToAudioCurrency(MakeCurrency(ToDecimal(Flow.MNextPayAmt), "USD"))), true)
                            - jumpToMenu:
                                name: Jump to Menu
                                targetMenuRef: "/inboundCall/menus/menu[Confirm Additional Info Choice_406]"
              speechRecTerms:
                en-us:
                  terms:
                    - Mortgage
                    - Loan
          - menuTask:
              name: Savings
              dtmf: digit_2
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - updateData:
                      name: Update Data
                      statements:
                        - integer:
                            variable: Flow.DialogRetryCounter
                            value:
                              lit: 0
                  - setParticipantData:
                      name: Set Participant Data
                      attributes:
                        - attribute:
                            name:
                              lit: Account_Type
                            value:
                              lit: Savings
                  - getParticipantData:
                      name: Get Participant Data
                      attributes:
                        - attribute:
                            name:
                              lit: Selected_Option
                            variable: Flow.SelectedOption
                  - decision:
                      name: Decision
                      condition:
                        exp: Flow.SelectedOption == "Transaction_History"
                      outputs:
                        "yes":
                          actions:
                            - jumpToMenu:
                                name: Jump to Menu
                                targetMenuRef: "/inboundCall/menus/menu[Trans For Checking, Saving, Debit card_575]"
                        "no":
                          actions:
                            - playAudio:
                                name: Play Audio
                                audio:
                                  exp: AudioPlaybackOptions(Append(ToAudioTTS("Your current balance is"), ToAudioCurrency(MakeCurrency(ToDecimal(Flow.CBalance), "USD"))), true)
                            - jumpToMenu:
                                name: Jump to Menu
                                targetMenuRef: "/inboundCall/menus/menu[Confirm Additional Info Choice_406]"
              speechRecTerms:
                en-us:
                  terms:
                    - Savings
          - menuTask:
              name: Credit Card
              dtmf: digit_3
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - updateData:
                      name: Update Data
                      statements:
                        - integer:
                            variable: Flow.DialogRetryCounter
                            value:
                              lit: 0
                  - setParticipantData:
                      name: Set Participant Data
                      attributes:
                        - attribute:
                            name:
                              lit: Account_Type
                            value:
                              lit: Credit Card
                  - getParticipantData:
                      name: Get Participant Data
                      attributes:
                        - attribute:
                            name:
                              lit: Selected_Option
                            variable: Flow.SelectedOption
                  - decision:
                      name: Decision
                      condition:
                        exp: Flow.SelectedOption == "Transaction_History"
                      outputs:
                        "yes":
                          actions:
                            - jumpToMenu:
                                name: Jump to Menu
                                targetMenuRef: "/inboundCall/menus/menu[Trans For Credit, Loan, Mortgage, Deposit_582]"
                        "no":
                          actions:
                            - playAudio:
                                name: Play Audio
                                audio:
                                  exp: AudioPlaybackOptions(Append(ToAudioTTS("Your current balance is"), ToAudioCurrency(MakeCurrency(ToDecimal(Flow.CBalance), "USD")), ToAudioTTS("Your available credit is"), ToAudioCurrency(MakeCurrency(ToDecimal(Flow.Ccredit), "USD"))), true)
                            - jumpToMenu:
                                name: Jump to Menu
                                targetMenuRef: "/inboundCall/menus/menu[Confirm Additional Info Choice_406]"
              speechRecTerms:
                en-us:
                  terms:
                    - Credit Card
          - menuTask:
              name: Debit Card
              dtmf: digit_4
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - updateData:
                      name: Update Data
                      statements:
                        - integer:
                            variable: Flow.DialogRetryCounter
                            value:
                              lit: 0
                  - setParticipantData:
                      name: Set Participant Data
                      attributes:
                        - attribute:
                            name:
                              lit: Account_Type
                            value:
                              lit: Debit Card
                  - getParticipantData:
                      name: Get Participant Data
                      attributes:
                        - attribute:
                            name:
                              lit: Selected_Option
                            variable: Flow.SelectedOption
                  - decision:
                      name: Decision
                      condition:
                        exp: Flow.SelectedOption == "Transaction_History"
                      outputs:
                        "yes":
                          actions:
                            - jumpToMenu:
                                name: Jump to Menu
                                targetMenuRef: "/inboundCall/menus/menu[Trans For Checking, Saving, Debit card_575]"
                        "no":
                          actions:
                            - playAudio:
                                name: Play Audio
                                audio:
                                  exp: AudioPlaybackOptions(Append(ToAudioTTS("Your current balance is"), ToAudioCurrency(MakeCurrency(ToDecimal(Flow.DCBalance), "USD"))), true)
                            - jumpToMenu:
                                name: Jump to Menu
                                targetMenuRef: "/inboundCall/menus/menu[Confirm Additional Info Choice_406]"
              speechRecTerms:
                en-us:
                  terms:
                    - Debit Card
          - menuTask:
              name: No_Input3
              refId: No_Input3_264
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - playAudio:
                      name: Play Audio
                      audio:
                        tts: Sorry we did not recognise your response
                  - updateData:
                      name: Update Data
                      statements:
                        - integer:
                            variable: Flow.DialogRetryCounter
                            value:
                              exp: Flow.DialogRetryCounter+1
                  - decision:
                      name: Decision
                      condition:
                        exp: Flow.DialogRetryCounter<=2
                      outputs:
                        "yes":
                          actions:
                            - jumpToMenu:
                                name: Jump to Menu
                                targetMenuRef: "/inboundCall/menus/menu[Confirm Account Type_208]"
                        "no":
                          actions:
                            - jumpToTask:
                                name: Jump to Reusable Task
                                targetTaskRef: "/inboundCall/tasks/task[CSR_392]"
              speechRecTerms:
                en-us:
                  terms:
                    - noinput
          - menuTask:
              name: Checking
              dtmf: digit_1
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - updateData:
                      name: Update Data
                      statements:
                        - integer:
                            variable: Flow.DialogRetryCounter
                            value:
                              lit: 0
                  - setParticipantData:
                      name: Set Participant Data
                      attributes:
                        - attribute:
                            name:
                              lit: Account_Type
                            value:
                              lit: Checking
                  - getParticipantData:
                      name: Get Participant Data
                      attributes:
                        - attribute:
                            name:
                              lit: Selected_Option
                            variable: Flow.SelectedOption
                  - decision:
                      name: Decision
                      condition:
                        exp: Flow.SelectedOption == "Transaction_History"
                      outputs:
                        "yes":
                          actions:
                            - jumpToMenu:
                                name: Jump to Menu
                                targetMenuRef: "/inboundCall/menus/menu[Trans For Checking, Saving, Debit card_575]"
                        "no":
                          actions:
                            - playAudio:
                                name: Play Audio
                                audio:
                                  exp: AudioPlaybackOptions(Append(ToAudioTTS("Your current balance is"), ToAudioCurrency(MakeCurrency(ToDecimal(Flow.CBalance), "USD"))), true)
                            - jumpToMenu:
                                name: Jump to Menu
                                targetMenuRef: "/inboundCall/menus/menu[Confirm Additional Info Choice_406]"
              speechRecTerms:
                en-us:
                  terms:
                    - Checking
        defaultChildMenuRef: "./choices/menuTask[No_Input3_264]"
    - menu:
        name: Confirm Additional Info Choice
        refId: Confirm Additional Info Choice_406
        audio:
          tts: Do you want me to repeat this information or you want to hear additional account information?
        settingsMenu:
          extensionDialingMaxDelay:
            noValue: true
          listenForExtensionDialing:
            noValue: true
          menuSelectionTimeout:
            noValue: true
          repeatCount:
            lit: 2
        settingsSpeechRec:
          completeMatchTimeout:
            noValue: true
          incompleteMatchTimeout:
            noValue: true
          maxSpeechLengthTimeout:
            noValue: true
          minConfidenceLevel:
            noValue: true
        choices:
          - menuTask:
              name: Additional Info
              dtmf: digit_2
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - jumpToTask:
                      name: Jump to Reusable Task
                      targetTaskRef: "/inboundCall/tasks/task[Additional Info - Checking_423]"
              speechRecTerms:
                en-us:
                  terms:
                    - Additional info
                    - "additional "
                    - info
          - menuTask:
              name: Repeat Account Type Menu
              dtmf: digit_1
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - getParticipantData:
                      name: Get Participant Data
                      attributes:
                        - attribute:
                            name:
                              lit: Account_Type
                            variable: Flow.AccountType
                  - switch:
                      name: Switch
                      evaluate:
                        firstTrue:
                          cases:
                            - case:
                                value:
                                  exp: Flow.AccountType=="Checking"
                                actions:
                                  - playAudio:
                                      name: Play Audio
                                      audio:
                                        exp: AudioPlaybackOptions(Append(ToAudioTTS("Your current balance is"), ToAudioCurrency(MakeCurrency(ToDecimal(Flow.CBalance), "USD"))), true)
                            - case:
                                value:
                                  exp: Flow.AccountType=="Savings"
                                actions:
                                  - playAudio:
                                      name: Play Audio
                                      audio:
                                        exp: AudioPlaybackOptions(Append(ToAudioTTS("Your current balance is"), ToAudioCurrency(MakeCurrency(ToDecimal(Flow.CBalance), "USD"))), true)
                            - case:
                                value:
                                  exp: Flow.AccountType=="Credit Card"
                                actions:
                                  - playAudio:
                                      name: Play Audio
                                      audio:
                                        exp: AudioPlaybackOptions(Append(ToAudioTTS("Your current balance is"), ToAudioCurrency(MakeCurrency(ToDecimal(Flow.CBalance), "USD")), ToAudioTTS("Your available credit is"), ToAudioCurrency(MakeCurrency(ToDecimal(Flow.Ccredit), "USD"))), true)
                            - case:
                                value:
                                  exp: Flow.AccountType=="Debit Card"
                                actions:
                                  - playAudio:
                                      name: Play Audio
                                      audio:
                                        exp: AudioPlaybackOptions(Append(ToAudioTTS("Your current balance is"), ToAudioCurrency(MakeCurrency(ToDecimal(Flow.DCBalance), "USD"))), true)
                            - case:
                                value:
                                  exp: Flow.AccountType=="Deposit"
                                actions:
                                  - playAudio:
                                      name: Play Audio
                                      audio:
                                        exp: AudioPlaybackOptions(Append(ToAudioTTS("Your current balance is"), ToAudioCurrency(MakeCurrency(ToDecimal(Flow.DBalance), "USD"))), true)
                            - case:
                                value:
                                  exp: Flow.AccountType=="Mortgage"
                                actions:
                                  - playAudio:
                                      name: Play Audio
                                      audio:
                                        exp: AudioPlaybackOptions(Append(ToAudioTTS("Your outstanding balance is "), ToAudioCurrency(MakeCurrency(ToDecimal(Flow.Mbalance), "USD")), ToAudioTTS("Your last payment was on"), ToAudioDate(ToDateTime(Flow.MdueDate)), ToAudioTTS("and was received on"), ToAudioDate(ToDateTime(Flow.MLastPayment)), ToAudioTTS("Your next payment amount is "), ToAudioCurrency(MakeCurrency(ToDecimal(Flow.MNextPayAmt), "USD"))), true)
                  - jumpToMenu:
                      name: Jump to Menu
                      targetMenuRef: "/inboundCall/menus/menu[Confirm Additional Info Choice_406]"
              speechRecTerms:
                en-us:
                  terms:
                    - Repeat
          - menuTask:
              name: No_Input 4
              refId: No_Input 4_1299
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - playAudio:
                      name: Play Audio
                      audio:
                        tts: Sorry we did not recognise your response
                  - updateData:
                      name: Update Data
                      statements:
                        - integer:
                            variable: Flow.DialogRetryCounter
                            value:
                              exp: Flow.DialogRetryCounter+1
                  - decision:
                      name: Decision
                      condition:
                        exp: Flow.DialogRetryCounter<=2
                      outputs:
                        "yes":
                          actions:
                            - jumpToMenu:
                                name: Jump to Menu
                                targetMenuRef: "/inboundCall/menus/menu[Confirm Additional Info Choice_406]"
                        "no":
                          actions:
                            - jumpToTask:
                                name: Jump to Reusable Task
                                targetTaskRef: "/inboundCall/tasks/task[CSR_392]"
              speechRecTerms:
                en-us:
                  terms:
                    - noinput
          - menuTask:
              name: No
              dtmf: digit_3
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - jumpToMenu:
                      name: Jump to Menu
                      targetMenuRef: "/inboundCall/menus/menu[ABC Bank Main Menu_127]"
              speechRecTerms:
                en-us:
                  terms:
                    - No
                    - nope
        defaultChildMenuRef: "./choices/menuTask[No_Input 4_1299]"
    - menu:
        name: Confirm Rewards Choice
        refId: Confirm Rewards Choice_444
        audio:
          exp: AudioPlaybackOptions(If(0 == Flow.DialogRetryCounter, ToAudioTTS("How can I help you with Rewards. You can say Balance, Banker, or Redeem?"), ToAudioTTS("For Balance you can say Balance or  press 1. For Banker you can say Banker or press 2. For Redeem you can say Redeem or press 3.")), true)
        settingsMenu:
          extensionDialingMaxDelay:
            noValue: true
          listenForExtensionDialing:
            noValue: true
          menuSelectionTimeout:
            noValue: true
          repeatCount:
            lit: 2
        settingsSpeechRec:
          completeMatchTimeout:
            noValue: true
          incompleteMatchTimeout:
            noValue: true
          maxSpeechLengthTimeout:
            noValue: true
          minConfidenceLevel:
            noValue: true
        choices:
          - menuTask:
              name: Balance
              dtmf: digit_1
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - dataTableLookup:
                      name: Data Table Lookup
                      lookupValue:
                        exp: Flow.Accountno
                      dataTable:
                        BFSI Transaction DB:
                          foundOutputs:
                            Tamount:
                              noValue: true
                            TDate:
                              noValue: true
                            TCheckNo:
                              noValue: true
                            Pamount:
                              noValue: true
                            PDate:
                              noValue: true
                            PCheckNo:
                              noValue: true
                            RBalance:
                              var: Flow.RewardBalance
                            TType:
                              noValue: true
                            FromType:
                              noValue: true
                            ToType:
                              noValue: true
                          failureOutputs:
                            errorType:
                              noValue: true
                            errorMessage:
                              noValue: true
                      outputs:
                        found:
                          actions:
                            - playAudio:
                                name: Play Audio
                                audio:
                                  exp: AudioPlaybackOptions(Append(ToAudioTTS("As of today, your Rewards Balance is"), ToAudioCurrency(MakeCurrency(ToDecimal(Flow.RewardBalance), "USD"))), true)
                  - updateData:
                      name: Update Data
                      statements:
                        - integer:
                            variable: Flow.DialogRetryCounter
                            value:
                              lit: 0
                  - jumpToMenu:
                      name: Jump to Menu
                      targetMenuRef: "/inboundCall/menus/menu[Confirm last Choice rewards_465]"
              speechRecTerms:
                en-us:
                  terms:
                    - balance
                    - rewards balance
          - menuTask:
              name: Redeem
              dtmf: digit_2
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - playAudio:
                      name: Play Audio
                      audio:
                        tts: To redeem your Rewards, let me transfer you to a banker
                  - jumpToTask:
                      name: Jump to Reusable Task
                      targetTaskRef: "/inboundCall/tasks/task[Account Info_35]"
              speechRecTerms:
                en-us:
                  terms:
                    - redeem
                    - redeem my rewards
          - menuTask:
              name: Banker
              dtmf: digit_3
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - jumpToTask:
                      name: Jump to Reusable Task
                      targetTaskRef: "/inboundCall/tasks/task[Account Info_35]"
              speechRecTerms:
                en-us:
                  terms:
                    - Banker
          - menuTask:
              name: No_Input 5
              refId: No_Input 5_458
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - playAudio:
                      name: Play Audio
                      audio:
                        tts: Sorry we did not recognise your response
                  - updateData:
                      name: Update Data
                      statements:
                        - integer:
                            variable: Flow.DialogRetryCounter
                            value:
                              exp: Flow.DialogRetryCounter+1
                  - decision:
                      name: Decision
                      condition:
                        exp: Flow.DialogRetryCounter<=2
                      outputs:
                        "yes":
                          actions:
                            - jumpToMenu:
                                name: Jump to Menu
                                targetMenuRef: "/inboundCall/menus/menu[Confirm Rewards Choice_444]"
                        "no":
                          actions:
                            - transferToAcd:
                                name: Transfer to ACD
                                targetQueue:
                                  lit:
                                    name: Training1
                                priority:
                                  lit: 0
                                preferredAgents:
                                  noValue: true
                                languageSkill:
                                  noValue: true
                                directAgent:
                                  noValue: true
                                failureOutputs:
                                  errorType:
                                    noValue: true
                                  errorMessage:
                                    noValue: true
                                outputs:
                                  failure:
                                    actions:
                                      - disconnect:
                                          name: Disconnect
              speechRecTerms:
                en-us:
                  terms:
                    - noinput
          - menuTask:
              name: No 6
              dtmf: digit_4
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - jumpToMenu:
                      name: Jump to Menu
                      targetMenuRef: "/inboundCall/menus/menu[ABC Bank Main Menu_127]"
              speechRecTerms:
                en-us:
                  terms:
                    - No
                    - nope
        defaultChildMenuRef: "./choices/menuTask[No_Input 5_458]"
    - menu:
        name: Confirm last Choice rewards
        refId: Confirm last Choice rewards_465
        audio:
          tts: Do you want me to repeat this information? Or would you like to speak to a banker? If you like to go to Main Menu, just say "Main Menu".
        settingsMenu:
          extensionDialingMaxDelay:
            noValue: true
          listenForExtensionDialing:
            noValue: true
          menuSelectionTimeout:
            noValue: true
          repeatCount:
            lit: 2
        settingsSpeechRec:
          completeMatchTimeout:
            noValue: true
          incompleteMatchTimeout:
            noValue: true
          maxSpeechLengthTimeout:
            noValue: true
          minConfidenceLevel:
            noValue: true
        choices:
          - menuTask:
              name: Repeat
              dtmf: digit_1
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - playAudio:
                      name: Play Audio
                      audio:
                        exp: AudioPlaybackOptions(Append(ToAudioTTS("As of today, your Rewards Balance is"), ToAudioCurrency(MakeCurrency(ToDecimal(Flow.RewardBalance), "USD"))), true)
                  - jumpToMenu:
                      name: Jump to Menu
                      targetMenuRef: "/inboundCall/menus/menu[Confirm last Choice rewards_465]"
              speechRecTerms:
                en-us:
                  terms:
                    - Repeat
          - menuTask:
              name: No_Input 6
              refId: No_Input 6_471
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - updateData:
                      name: Update Data
                      statements:
                        - integer:
                            variable: Flow.DialogRetryCounter
                            value:
                              exp: Flow.DialogRetryCounter+1
                  - decision:
                      name: Decision
                      condition:
                        exp: Flow.DialogRetryCounter<=2
                      outputs:
                        "yes":
                          actions:
                            - jumpToMenu:
                                name: Jump to Menu
                                targetMenuRef: "/inboundCall/menus/menu[Confirm last Choice rewards_465]"
                        "no":
                          actions:
                            - transferToAcd:
                                name: Transfer to ACD
                                targetQueue:
                                  lit:
                                    name: Training1
                                priority:
                                  lit: 0
                                preferredAgents:
                                  noValue: true
                                languageSkill:
                                  noValue: true
                                directAgent:
                                  noValue: true
                                failureOutputs:
                                  errorType:
                                    noValue: true
                                  errorMessage:
                                    noValue: true
                                outputs:
                                  failure:
                                    actions:
                                      - disconnect:
                                          name: Disconnect
              speechRecTerms:
                en-us:
                  terms:
                    - noinput
          - menuTask:
              name: Banker 1
              dtmf: digit_3
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - jumpToTask:
                      name: Jump to Reusable Task
                      targetTaskRef: "/inboundCall/tasks/task[Account Info_35]"
              speechRecTerms:
                en-us:
                  terms:
                    - Banker
          - menuTask:
              name: No 7
              dtmf: digit_2
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - jumpToMenu:
                      name: Jump to Menu
                      targetMenuRef: "/inboundCall/menus/menu[ABC Bank Main Menu_127]"
              speechRecTerms:
                en-us:
                  terms:
                    - No
                    - nope
        defaultChildMenuRef: "./choices/menuTask[No_Input 6_471]"
    - menu:
        name: Request Confirmation
        refId: Request Confirmation_496
        audio:
          tts: Please continue to hold  is you are the mortgage  owner or you wish to  make an automated  payment over the  phone.  If you are  paying on behalf of  the owner or  paying by speaking to  a Banker, just say "Banker"
        settingsMenu:
          extensionDialingMaxDelay:
            noValue: true
          listenForExtensionDialing:
            noValue: true
          menuSelectionTimeout:
            noValue: true
          repeatCount:
            lit: 2
        settingsSpeechRec:
          completeMatchTimeout:
            noValue: true
          incompleteMatchTimeout:
            noValue: true
          maxSpeechLengthTimeout:
            noValue: true
          minConfidenceLevel:
            noValue: true
        choices:
          - menuTask:
              name: Automated Payment
              refId: Automated Payment_497
              dtmf: digit_1
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - callTask:
                      name: Call Task
                      targetTaskRef: "/inboundCall/tasks/task[Authentication_229]"
                  - jumpToTask:
                      name: Jump to Reusable Task
                      targetTaskRef: "/inboundCall/tasks/task[Credit Card payment_518]"
              speechRecTerms:
                en-us:
                  terms:
                    - Repeat
          - menuTask:
              name: No_Input 2
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - updateData:
                      name: Update Data
                      statements:
                        - integer:
                            variable: Flow.DialogRetryCounter
                            value:
                              exp: Flow.DialogRetryCounter+1
                  - decision:
                      name: Decision
                      condition:
                        exp: Flow.DialogRetryCounter<=2
                      outputs:
                        "yes":
                          actions:
                            - jumpToMenu:
                                name: Jump to Menu
                                targetMenuRef: "/inboundCall/menus/menu[Request Confirmation_496]"
                        "no":
                          actions:
                            - transferToAcd:
                                name: Transfer to ACD
                                targetQueue:
                                  lit:
                                    name: Training1
                                priority:
                                  lit: 0
                                preferredAgents:
                                  noValue: true
                                languageSkill:
                                  noValue: true
                                directAgent:
                                  noValue: true
                                failureOutputs:
                                  errorType:
                                    noValue: true
                                  errorMessage:
                                    noValue: true
                                outputs:
                                  failure:
                                    actions:
                                      - disconnect:
                                          name: Disconnect
              speechRecTerms:
                en-us:
                  terms:
                    - noinput
          - menuTask:
              name: Banker 2
              dtmf: digit_2
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - jumpToTask:
                      name: Jump to Reusable Task
                      targetTaskRef: "/inboundCall/tasks/task[Account Info_35]"
              speechRecTerms:
                en-us:
                  terms:
                    - Agent
        defaultChildMenuRef: "./choices/menuTask[Automated Payment_497]"
    - menu:
        name: Confirm Last Choice
        refId: Confirm Last Choice_524
        audio:
          tts: Do you want me to repeat this information? Or would you like to speak to a Banker? If you like to go to Main Menu, just say ‚ÄúMain Menu
        settingsMenu:
          extensionDialingMaxDelay:
            noValue: true
          listenForExtensionDialing:
            noValue: true
          menuSelectionTimeout:
            noValue: true
          repeatCount:
            lit: 2
        settingsSpeechRec:
          completeMatchTimeout:
            noValue: true
          incompleteMatchTimeout:
            noValue: true
          maxSpeechLengthTimeout:
            noValue: true
          minConfidenceLevel:
            noValue: true
        choices:
          - menuTask:
              name: Repeat Additional
              dtmf: digit_1
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - jumpToTask:
                      name: Jump to Reusable Task
                      targetTaskRef: "/inboundCall/tasks/task[Additional Info - Checking_423]"
              speechRecTerms:
                en-us:
                  terms:
                    - Repeat
                    - yes
          - menuTask:
              name: No_Input 3
              refId: No_Input 3_528
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - updateData:
                      name: Update Data
                      statements:
                        - integer:
                            variable: Flow.DialogRetryCounter
                            value:
                              exp: Flow.DialogRetryCounter+1
                  - decision:
                      name: Decision
                      condition:
                        exp: Flow.DialogRetryCounter<=2
                      outputs:
                        "yes":
                          actions:
                            - jumpToMenu:
                                name: Jump to Menu
                                targetMenuRef: "/inboundCall/menus/menu[Confirm Last Choice_524]"
                        "no":
                          actions:
                            - jumpToTask:
                                name: Jump to Reusable Task
                                targetTaskRef: "/inboundCall/tasks/task[CSR_392]"
              speechRecTerms:
                en-us:
                  terms:
                    - noinput
          - menuTask:
              name: Banker 3
              dtmf: digit_2
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - jumpToTask:
                      name: Jump to Reusable Task
                      targetTaskRef: "/inboundCall/tasks/task[CSR_392]"
              speechRecTerms:
                en-us:
                  terms:
                    - Banker
        defaultChildMenuRef: "./choices/menuTask[No_Input 3_528]"
    - menu:
        name: Confirm Transaction Type
        refId: Confirm Transaction Type_558
        audio:
          tts: "What type of account are you calling about? \"Checking\", \"Savings\", \"Credit card\", \"Debit Card\", \"Deposit\", \"Loan\" or \"Mortgage\". "
        settingsMenu:
          extensionDialingMaxDelay:
            noValue: true
          listenForExtensionDialing:
            noValue: true
          menuSelectionTimeout:
            noValue: true
          repeatCount:
            lit: 1
        settingsSpeechRec:
          completeMatchTimeout:
            noValue: true
          incompleteMatchTimeout:
            noValue: true
          maxSpeechLengthTimeout:
            noValue: true
          minConfidenceLevel:
            noValue: true
        choices:
          - menuTask:
              name: Transaction_type 1
              dtmf: digit_1
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - jumpToMenu:
                      name: Jump to Menu
                      targetMenuRef: "/inboundCall/menus/menu[Trans For Checking, Saving, Debit card_575]"
              speechRecTerms:
                en-us:
                  terms:
                    - checking
                    - Saving
                    - Savings
                    - Debit
                    - Debit Card
          - menuTask:
              name: Transaction_Type 2
              dtmf: digit_2
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - jumpToMenu:
                      name: Jump to Menu
                      targetMenuRef: "/inboundCall/menus/menu[Trans For Credit, Loan, Mortgage, Deposit_582]"
              speechRecTerms:
                en-us:
                  terms:
                    - creditcard
                    - Loan
                    - Credit
                    - Mortgage
                    - Deposit
          - menuTask:
              name: No input 4
              refId: No input 4_573
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - updateData:
                      name: Update Data
                      statements:
                        - integer:
                            variable: Flow.DialogRetryCounter
                            value:
                              exp: Flow.DialogRetryCounter==0
                  - decision:
                      name: Decision
                      condition:
                        exp: Flow.DialogRetryCounter<=2
                      outputs:
                        "yes":
                          actions:
                            - jumpToMenu:
                                name: Jump to Menu
                                targetMenuRef: "/inboundCall/menus/menu[Confirm Transaction Type_558]"
                        "no":
                          actions:
                            - jumpToTask:
                                name: Jump to Reusable Task
                                targetTaskRef: "/inboundCall/tasks/task[CSR_392]"
              speechRecTerms:
                en-us:
                  terms:
                    - noinput
        defaultChildMenuRef: "./choices/menuTask[No input 4_573]"
    - menu:
        name: Trans For Checking, Saving, Debit card
        refId: Trans For Checking, Saving, Debit card_575
        audio:
          tts: Which type of transactions would you like to hear? "Checks", "Withdrawal", "Most Recent Transaction"
        settingsMenu:
          extensionDialingMaxDelay:
            noValue: true
          listenForExtensionDialing:
            noValue: true
          menuSelectionTimeout:
            noValue: true
          repeatCount:
            noValue: true
        settingsSpeechRec:
          completeMatchTimeout:
            noValue: true
          incompleteMatchTimeout:
            noValue: true
          maxSpeechLengthTimeout:
            noValue: true
          minConfidenceLevel:
            noValue: true
        choices:
          - menuTask:
              name: Check
              dtmf: digit_1
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - playAudio:
                      name: Play Audio
                      audio:
                        tts: Let me read back your recent Checks
                  - jumpToTask:
                      name: Jump to Reusable Task
                      targetTaskRef: "/inboundCall/tasks/task[Transaction_185]"
              speechRecTerms:
                en-us:
                  terms:
                    - check
          - menuTask:
              name: Recent Transactions
              dtmf: digit_3
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - playAudio:
                      name: Play Audio
                      audio:
                        tts: Let me play back your recent transaction.
                  - jumpToTask:
                      name: Jump to Reusable Task
                      targetTaskRef: "/inboundCall/tasks/task[Transaction_185]"
              speechRecTerms:
                en-us:
                  terms:
                    - recent transaction
                    - recent transaction details
                    - Most Recent Transaction
                    - Most Recent Transactions
                    - Most Recent Transaction details
                    - Most Recent Transactions detail
                    - transaction details
          - menuTask:
              name: Withdrawal
              dtmf: digit_2
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - playAudio:
                      name: Play Audio
                      audio:
                        tts: Let me read back your recent Withdrawal
                  - jumpToTask:
                      name: Jump to Reusable Task
                      targetTaskRef: "/inboundCall/tasks/task[Transaction_185]"
              speechRecTerms:
                en-us:
                  terms:
                    - withdrawal
          - menuTask:
              name: No_Input 1
              refId: No_Input 1_1363
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - updateData:
                      name: Update Data
                      statements:
                        - integer:
                            variable: Flow.DialogRetryCounter
                            value:
                              exp: Flow.DialogRetryCounter+1
                  - decision:
                      name: Decision
                      condition:
                        exp: Flow.DialogRetryCounter<=2
                      outputs:
                        "yes":
                          actions:
                            - jumpToMenu:
                                name: Jump to Menu
                                targetMenuRef: "/inboundCall/menus/menu[Trans For Checking, Saving, Debit card_575]"
                        "no":
                          actions:
                            - jumpToTask:
                                name: Jump to Reusable Task
                                targetTaskRef: "/inboundCall/tasks/task[CSR_392]"
              speechRecTerms:
                en-us:
                  terms:
                    - noinput
        defaultChildMenuRef: "./choices/menuTask[No_Input 1_1363]"
    - menu:
        name: Trans For Credit, Loan, Mortgage, Deposit
        refId: Trans For Credit, Loan, Mortgage, Deposit_582
        audio:
          tts: Which type of transactions would you like to hear? "Press 1 for Recent Transaction"
        settingsMenu:
          extensionDialingMaxDelay:
            noValue: true
          listenForExtensionDialing:
            noValue: true
          menuSelectionTimeout:
            noValue: true
          repeatCount:
            noValue: true
        settingsSpeechRec:
          completeMatchTimeout:
            noValue: true
          incompleteMatchTimeout:
            noValue: true
          maxSpeechLengthTimeout:
            noValue: true
          minConfidenceLevel:
            noValue: true
        choices:
          - menuTask:
              name: Recent Transactions 1
              dtmf: digit_1
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - playAudio:
                      name: Play Audio
                      audio:
                        tts: Let me play back your recent transaction.
                  - jumpToTask:
                      name: Jump to Reusable Task
                      targetTaskRef: "/inboundCall/tasks/task[Transaction_185]"
              speechRecTerms:
                en-us:
                  terms:
                    - transaction
                    - recent
          - menuTask:
              name: No_Input 7
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - updateData:
                      name: Update Data
                      statements:
                        - integer:
                            variable: Flow.DialogRetryCounter
                            value:
                              exp: Flow.DialogRetryCounter+1
                  - decision:
                      name: Decision
                      condition:
                        exp: Flow.DialogRetryCounter<=2
                      outputs:
                        "yes":
                          actions:
                            - jumpToMenu:
                                name: Jump to Menu
                                targetMenuRef: "/inboundCall/menus/menu[Trans For Credit, Loan, Mortgage, Deposit_582]"
                        "no":
                          actions:
                            - jumpToTask:
                                name: Jump to Reusable Task
                                targetTaskRef: "/inboundCall/tasks/task[CSR_392]"
              speechRecTerms:
                en-us:
                  terms:
                    - noinput
    - menu:
        name: Confirm Last Trans Choice
        refId: Confirm Last Trans Choice_585
        audio:
          tts: Do you want me to repeat this information? Or would you like to speak to a Banker? If you like to say Main Menu, just say "Main Menu".
        settingsMenu:
          extensionDialingMaxDelay:
            noValue: true
          listenForExtensionDialing:
            noValue: true
          menuSelectionTimeout:
            noValue: true
          repeatCount:
            noValue: true
        settingsSpeechRec:
          completeMatchTimeout:
            noValue: true
          incompleteMatchTimeout:
            noValue: true
          maxSpeechLengthTimeout:
            noValue: true
          minConfidenceLevel:
            noValue: true
        choices:
          - menuTask:
              name: Banker 4
              dtmf: digit_2
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - jumpToTask:
                      name: Jump to Reusable Task
                      targetTaskRef: "/inboundCall/tasks/task[CSR_392]"
              speechRecTerms:
                en-us:
                  terms:
                    - agent
                    - banker
          - menuTask:
              name: Repeat Trans Info
              dtmf: digit_1
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - jumpToTask:
                      name: Jump to Reusable Task
                      targetTaskRef: "/inboundCall/tasks/task[Transaction_185]"
              speechRecTerms:
                en-us:
                  terms:
                    - repeat
          - menuTask:
              name: No input 5
              refId: No input 5_592
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - updateData:
                      name: Update Data
                      statements:
                        - integer:
                            variable: Flow.DialogRetryCounter
                            value:
                              exp: Flow.DialogRetryCounter==0
                  - decision:
                      name: Decision
                      condition:
                        exp: Flow.DialogRetryCounter<=2
                      outputs:
                        "yes":
                          actions:
                            - jumpToMenu:
                                name: Jump to Menu
                                targetMenuRef: "/inboundCall/menus/menu[Confirm Last Trans Choice_585]"
                        "no":
                          actions:
                            - jumpToTask:
                                name: Jump to Reusable Task
                                targetTaskRef: "/inboundCall/tasks/task[CSR_392]"
              speechRecTerms:
                en-us:
                  terms:
                    - noinput
        defaultChildMenuRef: "./choices/menuTask[No input 5_592]"
    - menu:
        name: Posted Transaction History
        refId: Posted Transaction History_687
        audio:
          exp: AudioPlaybackOptions(If(GetAt(Flow.PostedTransType, Flow.PostedCounter) == "Pos_A", Append(ToAudioTTS("an amount of"), ToAudioCurrency(MakeCurrency(ToDecimal(GetAt(Flow.PostedAmountList, Flow.PostedCounter)), "USD")), ToAudioTTS("was posted to your account on"), ToAudioDate(ToDateTime(GetAt(Flow.PostedDateList, Flow.PostedCounter))), ToAudioBlank(500)), Append(ToAudioTTS("Check Number"), ToAudioNumber(GetAt(Flow.PostedCheckList, Flow.PostedCounter), Format.Number.playDigits), ToAudioTTS("was posted to your account on"), ToAudioDate(ToDateTime(GetAt(Flow.PostedDateList, Flow.PostedCounter))), ToAudioBlank(500))), true)
        settingsMenu:
          extensionDialingMaxDelay:
            lit:
              ms: 0
          listenForExtensionDialing:
            lit: false
          menuSelectionTimeout:
            lit:
              ms: 0
          repeatCount:
            noValue: true
        settingsSpeechRec:
          completeMatchTimeout:
            noValue: true
          incompleteMatchTimeout:
            noValue: true
          maxSpeechLengthTimeout:
            noValue: true
          minConfidenceLevel:
            noValue: true
        choices:
          - menuTask:
              name: No Input 7
              refId: No Input 7_688
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - updateData:
                      name: Update Data
                      statements:
                        - integer:
                            variable: Flow.PostedCounter
                            value:
                              exp: Flow.PostedCounter + 1
                  - decision:
                      name: Decision
                      condition:
                        exp: Count(Flow.PostedAmountList) == Flow.PostedCounter
                      outputs:
                        "yes":
                          actions:
                            - playAudio:
                                name: Play Audio
                                audio:
                                  tts: Your pending transactions are as follows
                            - jumpToMenu:
                                name: Jump to Menu
                                targetMenuRef: "/inboundCall/menus/menu[Pending Transaction History_751]"
                        "no":
                          actions:
                            - jumpToMenu:
                                name: Jump to Menu
                                targetMenuRef: "/inboundCall/menus/menu[Posted Transaction History_687]"
              speechRecTerms:
                en-us:
                  terms:
                    - No input
          - menuTask:
              name: Next
              dtmf: digit_1
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - updateData:
                      name: Update Data
                      statements:
                        - integer:
                            variable: Flow.PostedCounter
                            value:
                              exp: Flow.PostedCounter + 1
                  - decision:
                      name: Decision
                      condition:
                        exp: Count(Flow.PostedAmountList) == Flow.PostedCounter
                      outputs:
                        "yes":
                          actions:
                            - playAudio:
                                name: Play Audio
                                audio:
                                  tts: Your pending transactions are as follows
                            - jumpToMenu:
                                name: Jump to Menu
                                targetMenuRef: "/inboundCall/menus/menu[Pending Transaction History_751]"
                        "no":
                          actions:
                            - jumpToMenu:
                                name: Jump to Menu
                                targetMenuRef: "/inboundCall/menus/menu[Posted Transaction History_687]"
              speechRecTerms:
                en-us:
                  terms:
                    - Next
          - menuTask:
              name: Stop
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - jumpToMenu:
                      name: Jump to Menu
                      targetMenuRef: "/inboundCall/menus/menu[Confirm Last Trans Choice_585]"
              speechRecTerms:
                en-us:
                  terms:
                    - Stop
        defaultChildMenuRef: "./choices/menuTask[No Input 7_688]"
    - menu:
        name: Pending Transaction History
        refId: Pending Transaction History_751
        audio:
          exp: AudioPlaybackOptions(If(GetAt(Flow.PendingTransType, Flow.PendingCounter) == "Pen_A", Append(ToAudioTTS("There is a pending authorization of"), ToAudioCurrency(MakeCurrency(ToDecimal(GetAt(Flow.PendingAmountList, Flow.PendingCounter)), "USD")), ToAudioTTS("made to your account on"), ToAudioDate(ToDateTime(GetAt(Flow.PendingDateList, Flow.PendingCounter))), ToAudioBlank(500)), Append(ToAudioTTS("There is a pending check"), ToAudioNumber(GetAt(Flow.PendingCheckList, Flow.PendingCounter), Format.Number.playDigits), ToAudioTTS("in the amount of"), ToAudioCurrency(MakeCurrency(ToDecimal(GetAt(Flow.PendingAmountList, Flow.PendingCounter)), "USD")), ToAudioTTS("on"), ToAudioDate(ToDateTime(GetAt(Flow.PendingDateList, Flow.PendingCounter))), ToAudioBlank(500))), true)
        settingsMenu:
          extensionDialingMaxDelay:
            lit:
              ms: 0
          listenForExtensionDialing:
            lit: false
          menuSelectionTimeout:
            lit:
              ms: 0
          repeatCount:
            noValue: true
        settingsSpeechRec:
          completeMatchTimeout:
            noValue: true
          incompleteMatchTimeout:
            noValue: true
          maxSpeechLengthTimeout:
            noValue: true
          minConfidenceLevel:
            noValue: true
        choices:
          - menuTask:
              name: No Input 1
              refId: No Input 1_752
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - updateData:
                      name: Update Data
                      statements:
                        - integer:
                            variable: Flow.PendingCounter
                            value:
                              exp: Flow.PendingCounter + 1
                  - decision:
                      name: Decision
                      condition:
                        exp: Count(Flow.PendingAmountList) == Flow.PendingCounter
                      outputs:
                        "yes":
                          actions:
                            - jumpToMenu:
                                name: Jump to Menu
                                targetMenuRef: "/inboundCall/menus/menu[Confirm Last Trans Choice_585]"
                        "no":
                          actions:
                            - jumpToMenu:
                                name: Jump to Menu
                                targetMenuRef: "/inboundCall/menus/menu[Pending Transaction History_751]"
              speechRecTerms:
                en-us:
                  terms:
                    - No input
          - menuTask:
              name: Next 1
              dtmf: digit_1
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - updateData:
                      name: Update Data
                      statements:
                        - integer:
                            variable: Flow.PendingCounter
                            value:
                              exp: Flow.PendingCounter + 1
                  - decision:
                      name: Decision
                      condition:
                        exp: Count(Flow.PendingAmountList) == Flow.PendingCounter
                      outputs:
                        "yes":
                          actions:
                            - jumpToMenu:
                                name: Jump to Menu
                                targetMenuRef: "/inboundCall/menus/menu[Confirm Last Trans Choice_585]"
                        "no":
                          actions:
                            - jumpToMenu:
                                name: Jump to Menu
                                targetMenuRef: "/inboundCall/menus/menu[Pending Transaction History_751]"
              speechRecTerms:
                en-us:
                  terms:
                    - Next
          - menuTask:
              name: Stop 1
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - jumpToMenu:
                      name: Jump to Menu
                      targetMenuRef: "/inboundCall/menus/menu[Confirm Last Trans Choice_585]"
              speechRecTerms:
                en-us:
                  terms:
                    - Stop
        defaultChildMenuRef: "./choices/menuTask[No Input 1_752]"
    - menu:
        name: Last Customer action 1
        refId: Last Customer action 1_775
        audio:
          exp: AudioPlaybackOptions(Append(ToAudioTTS("You were looking for account "), ToAudioTTS("related details last time "), ToAudioBlank(500), ToAudioTTS("do want to proceed with it")), true)
        settingsMenu:
          extensionDialingMaxDelay:
            noValue: true
          listenForExtensionDialing:
            noValue: true
          menuSelectionTimeout:
            noValue: true
          repeatCount:
            noValue: true
        settingsSpeechRec:
          completeMatchTimeout:
            noValue: true
          incompleteMatchTimeout:
            noValue: true
          maxSpeechLengthTimeout:
            noValue: true
          minConfidenceLevel:
            noValue: true
        choices:
          - menuTask:
              name: Yes 1
              dtmf: digit_1
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - callTask:
                      name: Call Task
                      targetTaskRef: "/inboundCall/tasks/task[Authentication_229]"
                  - switch:
                      name: Switch
                      evaluate:
                        firstMatch:
                          string:
                            value:
                              exp: Flow.LastNote
                            cases:
                              - case:
                                  value:
                                    lit: Account Info
                                  actions:
                                    - callData:
                                        name: Call Data Action
                                        processingPrompt:
                                          noValue: true
                                        timeout:
                                          lit:
                                            minutes: 1
                                        category:
                                          Genesys Cloud Data Actions:
                                            dataAction:
                                              External Contact Update Note -BFSI(Don't Delete):
                                                inputs:
                                                  contactID:
                                                    exp: Flow.ExtContractID
                                                  NoteText:
                                                    exp: "\"Account Balance\""
                                                  NoteID:
                                                    exp: Flow.NoteID
                                    - jumpToMenu:
                                        name: Jump to Menu
                                        targetMenuRef: "/inboundCall/menus/menu[Confirm Account Type_208]"
                              - case:
                                  value:
                                    lit: Transfer Funds
                                  actions:
                                    - callData:
                                        name: Call Data Action
                                        processingPrompt:
                                          noValue: true
                                        timeout:
                                          lit:
                                            minutes: 1
                                        category:
                                          Genesys Cloud Data Actions:
                                            dataAction:
                                              External Contact Update Note -BFSI(Don't Delete):
                                                inputs:
                                                  contactID:
                                                    exp: Flow.ExtContractID
                                                  NoteText:
                                                    exp: "\"Transfer Funds\""
                                                  NoteID:
                                                    exp: Flow.NoteID
                                    - jumpToMenu:
                                        name: Jump to Menu
                                        targetMenuRef: "/inboundCall/menus/menu[Transfer_Fund_FROM_ACC_793]"
                  - jumpToMenu:
                      name: Jump to Menu
                      targetMenuRef: "/inboundCall/menus/menu[Transfer_Fund_FROM_ACC_793]"
              speechRecTerms:
                en-us:
                  terms:
                    - Yes
          - menuTask:
              name: No 1
              refId: No 1_781
              dtmf: digit_2
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - jumpToMenu:
                      name: Jump to Menu
                      targetMenuRef: "/inboundCall/menus/menu[ABC Bank Main Menu_127]"
              speechRecTerms:
                en-us:
                  terms:
                    - No
        defaultChildMenuRef: "./choices/menuTask[No 1_781]"
    - menu:
        name: Transfer_Fund_FROM_ACC
        refId: Transfer_Fund_FROM_ACC_793
        audio:
          tts: Which account do you wish to transfer funds from? You can say "Checking" "Savings" "Line of Credit"
        settingsMenu:
          extensionDialingMaxDelay:
            noValue: true
          listenForExtensionDialing:
            noValue: true
          menuSelectionTimeout:
            noValue: true
          repeatCount:
            noValue: true
        settingsSpeechRec:
          completeMatchTimeout:
            noValue: true
          incompleteMatchTimeout:
            noValue: true
          maxSpeechLengthTimeout:
            noValue: true
          minConfidenceLevel:
            noValue: true
        choices:
          - menuTask:
              name: Checking 2
              dtmf: digit_1
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - updateData:
                      name: Update Data
                      statements:
                        - string:
                            variable: Flow.FromAccount
                            value:
                              lit: Checking
                  - jumpToTask:
                      name: Jump to Reusable Task
                      targetTaskRef: "/inboundCall/tasks/task[\"TO\" Account_823]"
              speechRecTerms:
                en-us:
                  terms:
                    - checking
          - menuTask:
              name: Savings 2
              dtmf: digit_2
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - jumpToTask:
                      name: Jump to Reusable Task
                      targetTaskRef: "/inboundCall/tasks/task[\"TO\" Account_823]"
              speechRecTerms:
                en-us:
                  terms:
                    - savings
          - menuTask:
              name: Line of credits
              dtmf: digit_3
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - jumpToTask:
                      name: Jump to Reusable Task
                      targetTaskRef: "/inboundCall/tasks/task[\"TO\" Account_823]"
          - menuTask:
              name: No Input 8
              refId: No Input 8_802
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - playAudio:
                      name: Play Audio
                      audio:
                        tts: Sorry we did not recognise your response.
                  - updateData:
                      name: Update Data
                      statements:
                        - string:
                            variable: Flow.DialogRetry
                            value:
                              lit: Flow.DialogRetry+1
                  - decision:
                      name: Decision
                      condition:
                        lit: true
                      outputs:
                        "yes":
                          actions:
                            - jumpToMenu:
                                name: Jump to Menu
                                targetMenuRef: "/inboundCall/menus/menu[Transfer_Fund_FROM_ACC_793]"
                        "no":
                          actions:
                            - transferToAcd:
                                name: Transfer to ACD
                                targetQueue:
                                  lit:
                                    name: Training1
                                preTransferAudio:
                                  tts: Transferring call to the next available agent
                                failureTransferAudio:
                                  tts: "All agents are currently assisting other customers please try after some time\n"
                                priority:
                                  lit: 0
                                preferredAgents:
                                  noValue: true
                                languageSkill:
                                  noValue: true
                                directAgent:
                                  noValue: true
                                failureOutputs:
                                  errorType:
                                    noValue: true
                                  errorMessage:
                                    noValue: true
                                outputs:
                                  failure:
                                    actions:
                                      - disconnect:
                                          name: Disconnect
              speechRecTerms:
                en-us:
                  terms:
                    - no input
        defaultChildMenuRef: "./choices/menuTask[No Input 8_802]"
    - menu:
        name: Confirm Fund Transfer
        refId: Confirm Fund Transfer_821
        audio:
          exp: AudioPlaybackOptions(Append(ToAudioTTS("To confirm. You wish to transfer  "), ToAudioCurrency(MakeCurrency(ToInt(Flow.Amount), "USD")), ToAudioTTS("from your "), ToAudioTTS(Flow.FromAccount), ToAudioTTS("account to account number"), ToAudioNumber(ToInt(Flow.Accountno), Format.Number.playDigits), ToAudioTTS("Is that correct? if you want to repeat the information say repeat.")), true)
        settingsMenu:
          extensionDialingMaxDelay:
            noValue: true
          listenForExtensionDialing:
            noValue: true
          menuSelectionTimeout:
            noValue: true
          repeatCount:
            noValue: true
        settingsSpeechRec:
          completeMatchTimeout:
            noValue: true
          incompleteMatchTimeout:
            noValue: true
          maxSpeechLengthTimeout:
            noValue: true
          minConfidenceLevel:
            noValue: true
        choices:
          - menuTask:
              name: Banker 5
              dtmf: digit_3
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - transferToAcd:
                      name: Transfer to ACD
                      targetQueue:
                        lit:
                          name: Training1
                      preTransferAudio:
                        tts: We are transferring call to the next available agent
                      failureTransferAudio:
                        tts: All agents are currently assisting other customers please try after some time
                      priority:
                        lit: 0
                      preferredAgents:
                        noValue: true
                      languageSkill:
                        noValue: true
                      directAgent:
                        noValue: true
                      failureOutputs:
                        errorType:
                          noValue: true
                        errorMessage:
                          noValue: true
                      outputs:
                        failure:
                          actions:
                            - disconnect:
                                name: Disconnect
          - menuTask:
              name: Repeat Fund info
              dtmf: digit_2
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - jumpToMenu:
                      name: Jump to Menu
                      targetMenuRef: "/inboundCall/menus/menu[Confirm Fund Transfer_821]"
          - menuTask:
              name: Yes 3
              dtmf: digit_1
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - playAudio:
                      name: Play Audio
                      audio:
                        tts: "Your request has been submitted "
                  - jumpToMenu:
                      name: Jump to Menu
                      targetMenuRef: "/inboundCall/menus/menu[ABC Bank Main Menu_127]"
              speechRecTerms:
                en-us:
                  terms:
                    - yes
          - menuTask:
              name: No Input 12
              refId: No Input 12_937
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - jumpToMenu:
                      name: Jump to Menu
                      targetMenuRef: "/inboundCall/menus/menu[Confirm Fund Transfer_821]"
              speechRecTerms:
                en-us:
                  terms:
                    - noinput
        defaultChildMenuRef: "./choices/menuTask[No Input 12_937]"
    - menu:
        name: Last Customer action 2
        refId: Last Customer action 2_946
        audio:
          exp: AudioPlaybackOptions(Append(ToAudioTTS("You were looking for Fund Transfer"), ToAudioTTS("related details last time "), ToAudioBlank(500), ToAudioTTS("do want to proceed with it")), true)
        settingsMenu:
          extensionDialingMaxDelay:
            noValue: true
          listenForExtensionDialing:
            noValue: true
          menuSelectionTimeout:
            noValue: true
          repeatCount:
            noValue: true
        settingsSpeechRec:
          completeMatchTimeout:
            noValue: true
          incompleteMatchTimeout:
            noValue: true
          maxSpeechLengthTimeout:
            noValue: true
          minConfidenceLevel:
            noValue: true
        choices:
          - menuTask:
              name: Yes 2
              dtmf: digit_1
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - callTask:
                      name: Call Task
                      targetTaskRef: "/inboundCall/tasks/task[Authentication_229]"
                  - switch:
                      name: Switch
                      evaluate:
                        firstMatch:
                          string:
                            value:
                              exp: Flow.LastNote
                            cases:
                              - case:
                                  value:
                                    lit: Account Info
                                  actions:
                                    - callData:
                                        name: Call Data Action
                                        processingPrompt:
                                          noValue: true
                                        timeout:
                                          lit:
                                            minutes: 1
                                        category:
                                          Genesys Cloud Data Actions:
                                            dataAction:
                                              External Contact Update Note -BFSI(Don't Delete):
                                                inputs:
                                                  contactID:
                                                    exp: Flow.ExtContractID
                                                  NoteText:
                                                    exp: "\"Account Balance\""
                                                  NoteID:
                                                    exp: Flow.NoteID
                                    - jumpToMenu:
                                        name: Jump to Menu
                                        targetMenuRef: "/inboundCall/menus/menu[Confirm Account Type_208]"
                              - case:
                                  value:
                                    lit: Transfer Funds
                                  actions:
                                    - callData:
                                        name: Call Data Action
                                        processingPrompt:
                                          noValue: true
                                        timeout:
                                          lit:
                                            minutes: 1
                                        category:
                                          Genesys Cloud Data Actions:
                                            dataAction:
                                              External Contact Update Note -BFSI(Don't Delete):
                                                inputs:
                                                  contactID:
                                                    exp: Flow.ExtContractID
                                                  NoteText:
                                                    exp: "\"Transfer Funds\""
                                                  NoteID:
                                                    exp: Flow.NoteID
                                    - jumpToMenu:
                                        name: Jump to Menu
                                        targetMenuRef: "/inboundCall/menus/menu[Transfer_Fund_FROM_ACC_793]"
                  - jumpToMenu:
                      name: Jump to Menu
                      targetMenuRef: "/inboundCall/menus/menu[Transfer_Fund_FROM_ACC_793]"
              speechRecTerms:
                en-us:
                  terms:
                    - Yes
          - menuTask:
              name: No 2
              refId: No 2_956
              dtmf: digit_2
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - jumpToMenu:
                      name: Jump to Menu
                      targetMenuRef: "/inboundCall/menus/menu[ABC Bank Main Menu_127]"
              speechRecTerms:
                en-us:
                  terms:
                    - No
        defaultChildMenuRef: "./choices/menuTask[No 2_956]"
    - menu:
        name: Recent Ticket Status?
        refId: Recent Ticket Status?_1055
        audio:
          tts: Are you calling about the status of the latest ticket you have opened?
        settingsMenu:
          extensionDialingMaxDelay:
            noValue: true
          listenForExtensionDialing:
            noValue: true
          menuSelectionTimeout:
            noValue: true
          repeatCount:
            noValue: true
        settingsSpeechRec:
          completeMatchTimeout:
            noValue: true
          incompleteMatchTimeout:
            noValue: true
          maxSpeechLengthTimeout:
            noValue: true
          minConfidenceLevel:
            noValue: true
        choices:
          - menuTask:
              name: Yes 3
              dtmf: digit_1
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - jumpToTask:
                      name: Jump to Reusable Task
                      targetTaskRef: "/inboundCall/tasks/task[Existing Ticket_1050]"
              speechRecTerms:
                en-us:
                  terms:
                    - Yes
                    - "yes i am "
                    - yes correct
                    - correct
                    - yes you are right
                    - yes you are correct
                    - thats right
          - menuTask:
              name: No 3
              refId: No 3_1065
              dtmf: digit_2
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - jumpToMenu:
                      name: Jump to Menu
                      targetMenuRef: "/inboundCall/menus/menu[ABC Bank Main Menu_127]"
              speechRecTerms:
                en-us:
                  terms:
                    - No
                    - No i am not
                    - I am not
        defaultChildMenuRef: "./choices/menuTask[No 3_1065]"
    - menu:
        name: Hear Recent ticket status again?
        refId: Hear Recent ticket status again?_1202
        audio:
          tts: Do you want to hear this information again ?
        settingsMenu:
          extensionDialingMaxDelay:
            noValue: true
          listenForExtensionDialing:
            noValue: true
          menuSelectionTimeout:
            noValue: true
          repeatCount:
            noValue: true
        settingsSpeechRec:
          completeMatchTimeout:
            noValue: true
          incompleteMatchTimeout:
            noValue: true
          maxSpeechLengthTimeout:
            noValue: true
          minConfidenceLevel:
            noValue: true
        choices:
          - menuTask:
              name: Yes 4
              dtmf: digit_1
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                variables:
                  - stringVariable:
                      name: Task.TicketType
                      initialValue:
                        noValue: true
                      isInput: false
                      isOutput: false
                actions:
                  - getParticipantData:
                      name: Get Participant Data
                      attributes:
                        - attribute:
                            name:
                              lit: TicketType
                            variable: Task.TicketType
                  - decision:
                      name: Decision
                      condition:
                        exp: Task.TicketType == "PastPreviousTicket"
                      outputs:
                        "yes":
                          actions:
                            - jumpToTask:
                                name: Jump to Reusable Task
                                targetTaskRef: "/inboundCall/tasks/task[Previous Past ticket Status by ticket number_1285]"
                        "no":
                          actions:
                            - jumpToTask:
                                name: Jump to Reusable Task
                                targetTaskRef: "/inboundCall/tasks/task[Existing Ticket_1050]"
              speechRecTerms:
                en-us:
                  terms:
                    - Yes
                    - "yes i am "
                    - yes correct
                    - correct
                    - yes you are right
                    - yes you are correct
                    - thats right
                    - yes i want to
          - menuTask:
              name: No 4
              refId: No 4_1206
              dtmf: digit_2
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - jumpToMenu:
                      name: Jump to Menu
                      targetMenuRef: "/inboundCall/menus/menu[ABC Bank Main Menu_127]"
              speechRecTerms:
                en-us:
                  terms:
                    - No
                    - No i am not
                    - I am not
        defaultChildMenuRef: "./choices/menuTask[No 4_1206]"
    - menu:
        name: New or Existing ticket?
        refId: New or Existing ticket?_1219
        audio:
          tts: For opening a New ticket say 'New ticket' or press 1; for Recently opened ticket say 'Recent Ticket' or press 2; for Past Ticket status say 'Past Ticket' or press 3
        settingsMenu:
          extensionDialingMaxDelay:
            noValue: true
          listenForExtensionDialing:
            noValue: true
          menuSelectionTimeout:
            noValue: true
          repeatCount:
            noValue: true
        settingsSpeechRec:
          completeMatchTimeout:
            noValue: true
          incompleteMatchTimeout:
            noValue: true
          maxSpeechLengthTimeout:
            noValue: true
          minConfidenceLevel:
            noValue: true
        choices:
          - menuTask:
              name: New Ticket
              dtmf: digit_1
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - disconnect:
                      name: Disconnect
              speechRecTerms:
                en-us:
                  terms:
                    - New
                    - new ticket
                    - open a new ticket
                    - calling regarding opening a new ticket
                    - i want to open a new ticket
          - menuTask:
              name: Recent ticket
              dtmf: digit_2
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - jumpToTask:
                      name: Jump to Reusable Task
                      targetTaskRef: "/inboundCall/tasks/task[Existing Ticket_1050]"
              speechRecTerms:
                en-us:
                  terms:
                    - Existing Ticket
                    - Status of existing ticket
                    - i want to know about the status of my existing ticket
                    - status of my existing ticket
                    - existing
          - menuTask:
              name: No input
              refId: No input_1240
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - playAudio:
                      name: Play Audio
                      audio:
                        tts: "Sorry that response was not recognised "
                  - jumpToMenu:
                      name: Jump to Menu
                      targetMenuRef: "/inboundCall/menus/menu[New or Existing ticket?_1219]"
              speechRecTerms:
                en-us:
                  terms:
                    - No input
          - menuTask:
              name: Past ticket
              dtmf: digit_3
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - jumpToTask:
                      name: Jump to Reusable Task
                      targetTaskRef: "/inboundCall/tasks/task[Previous Past ticket Status by ticket number_1285]"
              speechRecTerms:
                en-us:
                  terms:
                    - Past ticket
                    - old ticket
                    - my older ticket
                    - my previous old ticket
                    - past
                    - older
                    - "old ticket status "
        defaultChildMenuRef: "./choices/menuTask[No input_1240]"
    - menu:
        name: Hear case number again?
        refId: Hear case number again?_1229
        audio:
          tts: Do you wish to hear the case number again ?
        settingsMenu:
          extensionDialingMaxDelay:
            noValue: true
          listenForExtensionDialing:
            noValue: true
          menuSelectionTimeout:
            noValue: true
          repeatCount:
            noValue: true
        settingsSpeechRec:
          completeMatchTimeout:
            noValue: true
          incompleteMatchTimeout:
            noValue: true
          maxSpeechLengthTimeout:
            noValue: true
          minConfidenceLevel:
            noValue: true
        choices:
          - menuTask:
              name: Yes
              dtmf: digit_1
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - playAudio:
                      name: Play Audio
                      audio:
                        exp: AudioPlaybackOptions(Append(ToAudioTTS("Ticket number is "), ToAudioTTS(Flow.caseNumber, Format.String.playChars)), true)
                  - jumpToMenu:
                      name: Jump to Menu
                      targetMenuRef: "/inboundCall/menus/menu[Hear case number again?_1229]"
              speechRecTerms:
                en-us:
                  terms:
                    - Yes
                    - "yes i want to "
                    - "i want to hear it again "
                    - i want to hear it
          - menuTask:
              name: No
              refId: No_1234
              dtmf: digit_2
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - jumpToMenu:
                      name: Jump to Menu
                      targetMenuRef: "/inboundCall/menus/menu[ABC Bank Main Menu_127]"
              speechRecTerms:
                en-us:
                  terms:
                    - No
                    - "I dont want to "
                    - "no i dont want to "
                    - i dont want to hear
        defaultChildMenuRef: "./choices/menuTask[No_1234]"
    - menu:
        name: Customer Service and Main menu
        refId: Customer Service and Main menu_1246
        settingsMenu:
          extensionDialingMaxDelay:
            noValue: true
          listenForExtensionDialing:
            noValue: true
          menuSelectionTimeout:
            noValue: true
          repeatCount:
            noValue: true
        settingsSpeechRec:
          completeMatchTimeout:
            noValue: true
          incompleteMatchTimeout:
            noValue: true
          maxSpeechLengthTimeout:
            noValue: true
          minConfidenceLevel:
            noValue: true
        choices:
          - menuTask:
              name: Agent Transfer
              refId: Agent Transfer_1247
              dtmf: digit_0
              globalDtmf: true
              globalSpeechRecTerms: true
              task:
                actions:
                  - jumpToTask:
                      name: Jump to Reusable Task
                      targetTaskRef: "/inboundCall/tasks/task[CSR_392]"
              speechRecTerms:
                en-us:
                  terms:
                    - Agent Transfer
                    - Transfer
                    - i want to speak to an agent
                    - customer service
                    - speak to an agent
                    - transfer to agent
                    - connect me with agent
          - menuTask:
              name: Main menu
              dtmf: digit_*
              globalDtmf: true
              globalSpeechRecTerms: true
              task:
                actions:
                  - updateData:
                      name: Update Data
                      statements:
                        - integer:
                            variable: Flow.DialogRetryCounter
                            value:
                              lit: 0
                        - integer:
                            variable: Flow.Counter
                            value:
                              lit: 1
                  - jumpToMenu:
                      name: Jump to Menu
                      targetMenuRef: "/inboundCall/menus/menu[ABC Bank Main Menu_127]"
              speechRecTerms:
                en-us:
                  terms:
                    - Main Menu
                    - Take me to main menu
        defaultChildMenuRef: "./choices/menuTask[Agent Transfer_1247]"
    - menu:
        name: Previous ticket by ticket nummber
        refId: Previous ticket by ticket nummber_1273
        audio:
          tts: "Are you looking for any previous tickets information that you have opened in past? "
        settingsMenu:
          extensionDialingMaxDelay:
            noValue: true
          listenForExtensionDialing:
            noValue: true
          menuSelectionTimeout:
            noValue: true
          repeatCount:
            noValue: true
        settingsSpeechRec:
          completeMatchTimeout:
            noValue: true
          incompleteMatchTimeout:
            noValue: true
          maxSpeechLengthTimeout:
            noValue: true
          minConfidenceLevel:
            noValue: true
        choices:
          - menuTask:
              name: Yes 5
              dtmf: digit_1
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - jumpToTask:
                      name: Jump to Reusable Task
                      targetTaskRef: "/inboundCall/tasks/task[Previous Past ticket Status by ticket number_1285]"
              speechRecTerms:
                en-us:
                  terms:
                    - Yes
                    - "yes i am "
                    - yes correct
                    - correct
                    - yes you are right
                    - yes you are correct
                    - thats right
          - menuTask:
              name: No 5
              refId: No 5_1277
              dtmf: digit_2
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - jumpToMenu:
                      name: Jump to Menu
                      targetMenuRef: "/inboundCall/menus/menu[ABC Bank Main Menu_127]"
              speechRecTerms:
                en-us:
                  terms:
                    - No
                    - No i am not
                    - I am not
        defaultChildMenuRef: "./choices/menuTask[No 5_1277]"
    - menu:
        name: Receive SMS ?
        refId: Receive SMS ?_1376
        audio:
          exp: AudioPlaybackOptions(Append(ToAudioTTS("Do you know that you can reach us through Facebook "), ToAudioBlank(100), ToAudioTTS("or you can even chat with us. "), ToAudioBlank(100), ToAudioTTS("Do you want us to send the link to your Mobile number ?")), true)
        settingsMenu:
          extensionDialingMaxDelay:
            noValue: true
          listenForExtensionDialing:
            noValue: true
          menuSelectionTimeout:
            noValue: true
          repeatCount:
            noValue: true
        settingsSpeechRec:
          completeMatchTimeout:
            noValue: true
          incompleteMatchTimeout:
            noValue: true
          maxSpeechLengthTimeout:
            noValue: true
          minConfidenceLevel:
            noValue: true
        choices:
          - menuTask:
              name: Receive SMS
              dtmf: digit_1
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - updateData:
                      name: add data action to send SMS ,two input ani and body
                  - callData:
                      name: Call Data Action
                      processingPrompt:
                        noValue: true
                      timeout:
                        lit:
                          minutes: 1
                      category:
                        Genesys Cloud Data Actions:
                          dataAction:
                            External Contact Last Note -BFSI(Don't Delete):
                              inputs:
                                ContactID:
                                  noValue: true
                              successOutputs:
                                NoteID:
                                  noValue: true
                                NoteText:
                                  noValue: true
                                EntityType:
                                  noValue: true
                                ModifyDate:
                                  noValue: true
                      outputs:
                        success:
                          actions:
                            - playAudio:
                                name: Play Audio
                                audio:
                                  tts: SMS has been sent to your mobile number
                            - jumpToMenu:
                                name: Jump to Menu
                                targetMenuRef: "/inboundCall/menus/menu[Continue call?_1380]"
                        failure:
                          actions:
                            - setParticipantData:
                                name: Set Participant Data
                                attributes:
                                  - attribute:
                                      name:
                                        lit: SMS
                                      value:
                                        lit: nosent
                        timeout:
                          actions:
                            - setParticipantData:
                                name: Set Participant Data
                                attributes:
                                  - attribute:
                                      name:
                                        lit: SMS
                                      value:
                                        lit: nosent
                  - jumpToMenu:
                      name: Jump to Menu
                      targetMenuRef: "/inboundCall/menus/menu[ABC Bank Main Menu_127]"
              speechRecTerms:
                en-us:
                  terms:
                    - Yes
                    - Yes please
                    - send me a SMS
                    - sms
                    - S
          - menuTask:
              name: Dont Receive SMS 1
              refId: Dont Receive SMS 1_1389
              dtmf: digit_2
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - addFlowMilestone:
                      name: Add Flow Milestone
                      milestone:
                        name: BFSI_SelfService
                      flowOutcome:
                        name: Call Diversion
                  - setFlowOutcome:
                      name: Set Flow Outcome
                      flowOutcomeValue: FAILURE
                      flowOutcome:
                        name: Call Diversion
                  - jumpToMenu:
                      name: Jump to Menu
                      targetMenuRef: "/inboundCall/menus/menu[ABC Bank Main Menu_127]"
              speechRecTerms:
                en-us:
                  terms:
                    - no
                    - nope
        defaultChildMenuRef: "./choices/menuTask[Dont Receive SMS 1_1389]"
    - menu:
        name: Continue call?
        refId: Continue call?_1380
        audio:
          tts: If you had received the SMS , you can feel free to hung up the call, or if you want to proceed with the call please press one.
        settingsMenu:
          extensionDialingMaxDelay:
            noValue: true
          listenForExtensionDialing:
            noValue: true
          menuSelectionTimeout:
            noValue: true
          repeatCount:
            noValue: true
        settingsSpeechRec:
          completeMatchTimeout:
            noValue: true
          incompleteMatchTimeout:
            noValue: true
          maxSpeechLengthTimeout:
            noValue: true
          minConfidenceLevel:
            noValue: true
        choices:
          - menuTask:
              name: Back to main menu
              refId: Back to main menu_1381
              dtmf: digit_1
              globalDtmf: false
              globalSpeechRecTerms: false
              task:
                actions:
                  - jumpToMenu:
                      name: Jump to Menu
                      targetMenuRef: "/inboundCall/menus/menu[ABC Bank Main Menu_127]"
              speechRecTerms:
                en-us:
                  terms:
                    - Continue
                    - IVR
        defaultChildMenuRef: "./choices/menuTask[Back to main menu_1381]"
  tasks:
    - task:
        name: "\"TO\" Account"
        refId: "\"TO\" Account_823"
        actions:
          - loop:
              name: Loop
              currentIndex:
                var: Flow.Account
              loopCount:
                lit: 3
              outputs:
                loop:
                  actions:
                    - collectInput:
                        name: Collect Input
                        inputData:
                          var: Flow.Accountno
                        digits:
                          range:
                            min: 1
                            max: 10
                        interDigitTimeout:
                          noValue: true
                        noEntryTimeout:
                          noValue: true
                        inputAudio:
                          tts: Enter the account you want to transfer amount to
                        acceptJustStar:
                          lit: false
                        acceptJustPound:
                          lit: false
                        verificationType: none
                        outputs:
                          success:
                            actions:
                              - jumpToTask:
                                  name: Jump to Reusable Task
                                  targetTaskRef: "/inboundCall/tasks/task[Transfer Amount_822]"
                          failure:
                            actions:
                              - playAudio:
                                  name: Play Audio
                                  audio:
                                    tts: Please enter the correct account no
          - jumpToMenu:
              name: Jump to Menu
              targetMenuRef: "/inboundCall/menus/menu[ABC Bank Main Menu_127]"
    - task:
        name: Account Info
        refId: Account Info_35
        variables:
          - stringVariable:
              name: Task.creditcard
              initialValue:
                noValue: true
              isInput: false
              isOutput: false
        actions:
          - playAudio:
              name: Disclaimer
              audio:
                tts: This call may be monitored for quality purposes.
          - getParticipantData:
              name: Get Participant Data
              attributes:
                - attribute:
                    name:
                      lit: ANI
                    variable: Flow.ani
                - attribute:
                    name:
                      lit: Name
                    variable: Flow.cname
          - setScreenPop:
              name: Set Screen Pop
              screenPopScript:
                BFSI_POC:
                  inputs:
                    Screen Pop URL:
                      lit: ""
                    ANI:
                      exp: Flow.ani
                    Customer Name:
                      exp: Flow.Name
                    Account Number:
                      exp: Flow.AccntnoMasked
                    Authentication:
                      exp: Flow.Auth
                    SF_Popup:
                      lit: "https://cognizant-btt-dev-ed.my.salesforce.com/?ec=302&startURL=%2Fvisualforce%2Fsession%3Furl%3Dhttps%253A%252F%252Fcognizant-btt-dev-ed.lightning.force.com%252Flightning%252Fo%252FUserAppMenuItem%252Fhome"
                    Balance:
                      exp: Flow.Mbalance
                    Conv1:
                      lit: ""
                    Conv2:
                      lit: ""
                    Conv3:
                      lit: ""
                    Conv4:
                      lit: ""
                    Conv5:
                      lit: ""
                    Notes1:
                      lit: ""
                    Notes2:
                      lit: ""
                    Notes3:
                      lit: ""
                    Notes4:
                      lit: ""
                    Notes5:
                      lit: ""
          - transferToAcd:
              name: Transfer to ACD
              targetQueue:
                lit:
                  name: BFSI Queue
              preTransferAudio:
                tts: Please wait, while we transfer your call to our next availble agent.
              failureTransferAudio:
                tts: Sorry, we are unable to transfer your call.
              priority:
                lit: 0
              preferredAgents:
                noValue: true
              languageSkill:
                noValue: true
              directAgent:
                noValue: true
              failureOutputs:
                errorType:
                  noValue: true
                errorMessage:
                  noValue: true
              outputs:
                failure:
                  actions:
                    - disconnect:
                        name: Disconnect
    - task:
        name: Additional Info - Checking
        refId: Additional Info - Checking_423
        actions:
          - playAudio:
              name: Play Audio
              audio:
                exp: AudioPlaybackOptions(Append(ToAudioTTS("Your interest rate is"), ToAudioNumber(ToDecimal(Flow.IRate)), ToAudioTTS("Percent"), ToAudioBlank(500)), true)
          - updateData:
              name: Update Data
              statements:
                - integer:
                    variable: Flow.DialogRetryCounter
                    value:
                      lit: 0
          - jumpToMenu:
              name: Jump to Menu
              targetMenuRef: "/inboundCall/menus/menu[Confirm Last Choice_524]"
    - task:
        name: Authentication
        refId: Authentication_229
        variables:
          - integerVariable:
              name: Task.AccountLoop
              initialValue:
                noValue: true
              isInput: false
              isOutput: false
          - stringVariable:
              name: Task.accountnumber
              initialValue:
                noValue: true
              isInput: false
              isOutput: false
          - stringVariable:
              name: Task.availblebalance
              initialValue:
                noValue: true
              isInput: false
              isOutput: false
          - stringVariable:
              name: Task.creditcard
              initialValue:
                noValue: true
              isInput: false
              isOutput: false
          - stringVariable:
              name: Task.customername
              initialValue:
                noValue: true
              isInput: false
              isOutput: false
          - stringVariable:
              name: Task.loan
              initialValue:
                noValue: true
              isInput: false
              isOutput: false
          - stringVariable:
              name: Task.OTV
              initialValue:
                noValue: true
              isInput: false
              isOutput: false
          - stringVariable:
              name: Task.phonenumber
              initialValue:
                noValue: true
              isInput: false
              isOutput: false
          - stringVariable:
              name: Task.pin
              initialValue:
                noValue: true
              isInput: false
              isOutput: false
        actions:
          - decision:
              name: Decision
              condition:
                lit: true
              outputs:
                "yes":
                  actions:
                    - endTask:
                        name: End Task
                        outputPath:
                          name: default
                "no":
                  actions:
                    - loop:
                        name: Loop
                        currentIndex:
                          var: Task.AccountLoop
                        loopCount:
                          lit: 3
                        outputs:
                          loop:
                            actions:
                              - collectInput:
                                  name: Collect Account Number
                                  inputData:
                                    var: Flow.Accountno
                                  digits:
                                    range:
                                      terminatingDtmf: "digit_#"
                                      min: 1
                                      max: 9
                                  interDigitTimeout:
                                    noValue: true
                                  noEntryTimeout:
                                    noValue: true
                                  inputAudio:
                                    tts: Please enter your Social Security Number followed by hash
                                  includeTerminatingDtmfInResultData: false
                                  acceptJustStar:
                                    lit: false
                                  acceptJustPound:
                                    lit: false
                                  verificationType: none
                                  outputs:
                                    success:
                                      actions:
                                        - dataTableLookup:
                                            name: Data Table Lookup
                                            lookupValue:
                                              exp: Flow.Accountno
                                            dataTable:
                                              BFSI Customer DB:
                                                foundOutputs:
                                                  PIN:
                                                    var: Flow.PIN
                                                  MBalance:
                                                    var: Flow.Mbalance
                                                  MLastPayAmt:
                                                    var: Flow.MLastPayment
                                                  MPayDate:
                                                    var: Flow.MpayDate
                                                  MNextPayAmt:
                                                    var: Flow.MNextPayAmt
                                                  MDueDate:
                                                    var: Flow.MdueDate
                                                  SBalance:
                                                    var: Flow.SBalance
                                                  CBalance:
                                                    var: Flow.CBalance
                                                  Ccredit:
                                                    var: Flow.Ccredit
                                                  DCBalance:
                                                    var: Flow.DCBalance
                                                  DBalance:
                                                    var: Flow.DBalance
                                                  IRate:
                                                    var: Flow.IRate
                                                failureOutputs:
                                                  errorType:
                                                    noValue: true
                                                  errorMessage:
                                                    noValue: true
                                            outputs:
                                              found:
                                                actions:
                                                  - setParticipantData:
                                                      name: Set Participant Data
                                                      attributes:
                                                        - attribute:
                                                            name:
                                                              lit: Test
                                                            value:
                                                              lit: "4"
                                                  - updateData:
                                                      name: Update Data
                                                      statements:
                                                        - string:
                                                            variable: Flow.Auth
                                                            value:
                                                              lit: Y
                                                  - playAudio:
                                                      name: Play Audio
                                                      audio:
                                                        exp: AudioPlaybackOptions(ToAudioTTS("For Verification "), false)
                                                  - setParticipantData:
                                                      name: Set Participant Data
                                                      attributes:
                                                        - attribute:
                                                            name:
                                                              lit: Test
                                                            value:
                                                              lit: "6"
                                                  - collectInput:
                                                      name: Collect Input
                                                      inputData:
                                                        var: Task.OTV
                                                      digits:
                                                        range:
                                                          terminatingDtmf: "digit_#"
                                                          min: 1
                                                          max: 20
                                                      interDigitTimeout:
                                                        noValue: true
                                                      noEntryTimeout:
                                                        noValue: true
                                                      inputAudio:
                                                        tts: Can i have the One time verification code that has been sent to your registered mobile number ?
                                                      includeTerminatingDtmfInResultData: false
                                                      acceptJustStar:
                                                        lit: false
                                                      acceptJustPound:
                                                        lit: false
                                                      verificationType: none
                                                  - playAudio:
                                                      name: Play Audio
                                                      audio:
                                                        tts: Thank You !
                                                  - endTask:
                                                      name: End Task
                                                      outputPath:
                                                        name: default
                                              notFound:
                                                actions:
                                                  - playAudio:
                                                      name: Play Audio
                                                      audio:
                                                        tts: Sorry, record not found, please try again
                                                  - loopNext:
                                                      name: Next Loop
                                              failure:
                                                actions:
                                                  - playAudio:
                                                      name: Play Audio
                                                      audio:
                                                        tts: Sorry, unable to process further
                                    failure:
                                      actions:
                                        - loopNext:
                                            name: Next Loop
          - jumpToTask:
              name: Jump to Reusable Task
              targetTaskRef: "/inboundCall/tasks/task[CSR_392]"
    - task:
        name: Call BFSI Buddy
        refId: Call BFSI Buddy_1405
        actions:
          - playAudio:
              name: Play Audio
              audio:
                tts: I am your BFSI Buddy .
          - callBotFlow:
              name: Call Bot Flow
              inputText:
                noValue: true
              exitReason:
                noValue: true
              intent:
                noValue: true
              botFlow:
                BFSI ChatGPT - IVR:
                  ver_latestPublished:
                    inputs:
                      Slot.AccountNumber:
                        noValue: true
                      Slot.ZipCode:
                        noValue: true
                      Slot.CustomerQuery:
                        noValue: true
                    outputs:
                      Slot.AccountNumber:
                        noValue: true
                      Slot.ZipCode:
                        noValue: true
                      Slot.CustomerQuery:
                        noValue: true
          - jumpToMenu:
              name: Jump to Menu
              targetMenuRef: "/inboundCall/menus/menu[ABC Bank Main Menu_127]"
    - task:
        name: Credit Card payment
        refId: Credit Card payment_518
        actions:
          - disconnect:
              name: Disconnect
    - task:
        name: CSR
        refId: CSR_392
        variables:
          - stringVariable:
              name: Task.conversationID1
              initialValue:
                noValue: true
              isInput: false
              isOutput: false
          - stringVariable:
              name: Task.ConversationID2
              initialValue:
                noValue: true
              isInput: false
              isOutput: false
          - stringVariable:
              name: Task.ConversationID3
              initialValue:
                noValue: true
              isInput: false
              isOutput: false
          - stringVariable:
              name: Task.ConversationID4
              initialValue:
                noValue: true
              isInput: false
              isOutput: false
          - stringVariable:
              name: Task.ConversationID5
              initialValue:
                noValue: true
              isInput: false
              isOutput: false
          - stringVariable:
              name: Task.Note1
              initialValue:
                noValue: true
              isInput: false
              isOutput: false
          - stringVariable:
              name: Task.Note2
              initialValue:
                noValue: true
              isInput: false
              isOutput: false
          - stringVariable:
              name: Task.Note3
              initialValue:
                noValue: true
              isInput: false
              isOutput: false
          - stringVariable:
              name: Task.Note4
              initialValue:
                noValue: true
              isInput: false
              isOutput: false
          - stringVariable:
              name: Task.Note5
              initialValue:
                noValue: true
              isInput: false
              isOutput: false
          - integerVariable:
              name: Task.NotesCount
              initialValue:
                noValue: true
              isInput: false
              isOutput: false
        actions:
          - playAudio:
              name: Play Audio
              audio:
                exp: AudioPlaybackOptions(Append(ToAudioTTS("This call may be monitored for quality purpose.  "), ToAudioBlank(500), ToAudioTTS("Transferring to Customer Service Representative")), true)
          - callData:
              name: Call Data Action
              processingPrompt:
                noValue: true
              timeout:
                lit:
                  minutes: 1
              category:
                Genesys Cloud Data Actions:
                  dataAction:
                    Get all External Contact Notes- BFSI(Don't Delete):
                      inputs:
                        contactId:
                          exp: Flow.ExtContractID
                      successOutputs:
                        NoteText:
                          var: Flow.AllNotesList
              outputs:
                success:
                  actions:
                    - updateData:
                        name: Update Data
                        statements:
                          - integer:
                              variable: Task.NotesCount
                              value:
                                exp: Count(Flow.AllNotesList)
                    - setParticipantData:
                        name: Set Participant Data
                        attributes:
                          - attribute:
                              name:
                                lit: Count
                              value:
                                exp: Task.NotesCount
                    - switch:
                        name: Switch
                        evaluate:
                          firstMatch:
                            integer:
                              value:
                                exp: Task.NotesCount
                              default:
                                actions:
                                  - setParticipantData:
                                      name: Set Participant Data
                                      attributes:
                                        - attribute:
                                            name:
                                              lit: Here
                                            value:
                                              lit: "1"
                                        - attribute:
                                            name:
                                              lit: All notes
                                            value:
                                              exp: GetAt(Flow.AllNotesList,0)
                                        - attribute:
                                            name:
                                              lit: Note1
                                            value:
                                              exp: GetAt(Split(GetAt(Flow.AllNotesList,0),";"),0)
                                  - updateData:
                                      name: Notes
                                      statements:
                                        - string:
                                            variable: Task.Note1
                                            value:
                                              exp: GetAt(Split(GetAt(Flow.AllNotesList,0),";"),0)
                                        - string:
                                            variable: Task.Note2
                                            value:
                                              exp: GetAt(Split(GetAt(Flow.AllNotesList,1),";"),0)
                                        - string:
                                            variable: Task.Note3
                                            value:
                                              exp: GetAt(Split(GetAt(Flow.AllNotesList,2),";"),0)
                                        - string:
                                            variable: Task.Note4
                                            value:
                                              exp: GetAt(Split(GetAt(Flow.AllNotesList,3),";"),0)
                                        - string:
                                            variable: Task.Note5
                                            value:
                                              exp: GetAt(Split(GetAt(Flow.AllNotesList,4),";"),0)
                                  - updateData:
                                      name: Conversationid
                                      statements:
                                        - string:
                                            variable: Task.conversationID1
                                            value:
                                              exp: If(Contains(GetAt(Flow.AllNotesList,0),";"),GetAt(Split(GetAt(Flow.AllNotesList,0),";"),1),"")
                                        - string:
                                            variable: Task.ConversationID2
                                            value:
                                              exp: If(Contains(GetAt(Flow.AllNotesList,1),";"),GetAt(Split(GetAt(Flow.AllNotesList,1),";"),1),"")
                                        - string:
                                            variable: Task.ConversationID3
                                            value:
                                              exp: If(Contains(GetAt(Flow.AllNotesList,2),";"),GetAt(Split(GetAt(Flow.AllNotesList,2),";"),1),"")
                                        - string:
                                            variable: Task.ConversationID4
                                            value:
                                              exp: If(Contains(GetAt(Flow.AllNotesList,3),";"),GetAt(Split(GetAt(Flow.AllNotesList,3),";"),1),"")
                                        - string:
                                            variable: Task.ConversationID5
                                            value:
                                              exp: If(Contains(GetAt(Flow.AllNotesList,4),";"),GetAt(Split(GetAt(Flow.AllNotesList,4),";"),1),"")
                              cases:
                                - case:
                                    value:
                                      lit: 0
                                - case:
                                    value:
                                      lit: 1
                                    actions:
                                      - updateData:
                                          name: Notes
                                          statements:
                                            - string:
                                                variable: Task.Note1
                                                value:
                                                  exp: GetAt(Split(GetAt(Flow.AllNotesList,0),";"),0)
                                      - updateData:
                                          name: Conversationid
                                          statements:
                                            - string:
                                                variable: Task.conversationID1
                                                value:
                                                  exp: GetAt(Split(GetAt(Flow.AllNotesList,0),";"),1)
                                - case:
                                    value:
                                      lit: 2
                                    actions:
                                      - updateData:
                                          name: Notes
                                          statements:
                                            - string:
                                                variable: Task.Note1
                                                value:
                                                  exp: GetAt(Split(GetAt(Flow.AllNotesList,0),";"),0)
                                            - string:
                                                variable: Task.Note2
                                                value:
                                                  exp: GetAt(Split(GetAt(Flow.AllNotesList,1),";"),0)
                                      - updateData:
                                          name: Conversationid
                                          statements:
                                            - string:
                                                variable: Task.conversationID1
                                                value:
                                                  exp: GetAt(Split(GetAt(Flow.AllNotesList,0),";"),1)
                                            - string:
                                                variable: Task.ConversationID2
                                                value:
                                                  exp: GetAt(Split(GetAt(Flow.AllNotesList,1),";"),1)
                                - case:
                                    value:
                                      lit: 3
                                    actions:
                                      - updateData:
                                          name: Notes
                                          statements:
                                            - string:
                                                variable: Task.Note1
                                                value:
                                                  exp: GetAt(Split(GetAt(Flow.AllNotesList,0),";"),0)
                                            - string:
                                                variable: Task.Note2
                                                value:
                                                  exp: GetAt(Split(GetAt(Flow.AllNotesList,1),";"),0)
                                            - string:
                                                variable: Task.Note3
                                                value:
                                                  exp: GetAt(Split(GetAt(Flow.AllNotesList,2),";"),0)
                                      - updateData:
                                          name: Conversationid
                                          statements:
                                            - string:
                                                variable: Task.conversationID1
                                                value:
                                                  exp: GetAt(Split(GetAt(Flow.AllNotesList,0),";"),1)
                                            - string:
                                                variable: Task.ConversationID2
                                                value:
                                                  exp: GetAt(Split(GetAt(Flow.AllNotesList,1),";"),1)
                                            - string:
                                                variable: Task.ConversationID3
                                                value:
                                                  exp: GetAt(Split(GetAt(Flow.AllNotesList,2),";"),1)
                                - case:
                                    value:
                                      lit: 4
                                    actions:
                                      - updateData:
                                          name: Notes
                                          statements:
                                            - string:
                                                variable: Task.Note1
                                                value:
                                                  exp: GetAt(Split(GetAt(Flow.AllNotesList,0),";"),0)
                                            - string:
                                                variable: Task.Note2
                                                value:
                                                  exp: GetAt(Split(GetAt(Flow.AllNotesList,1),";"),0)
                                            - string:
                                                variable: Task.Note3
                                                value:
                                                  exp: GetAt(Split(GetAt(Flow.AllNotesList,2),"-"),0)
                                            - string:
                                                variable: Task.Note4
                                                value:
                                                  exp: GetAt(Split(GetAt(Flow.AllNotesList,3),";"),0)
                                      - updateData:
                                          name: Conversationid
                                          statements:
                                            - string:
                                                variable: Task.conversationID1
                                                value:
                                                  exp: GetAt(Split(GetAt(Flow.AllNotesList,0),";"),1)
                                            - string:
                                                variable: Task.ConversationID2
                                                value:
                                                  exp: GetAt(Split(GetAt(Flow.AllNotesList,1),";"),1)
                                            - string:
                                                variable: Task.ConversationID3
                                                value:
                                                  exp: GetAt(Split(GetAt(Flow.AllNotesList,2),"-"),1)
                                            - string:
                                                variable: Task.ConversationID4
                                                value:
                                                  exp: GetAt(Split(GetAt(Flow.AllNotesList,3),";"),1)
          - setParticipantData:
              name: Set Participant Data
              attributes:
                - attribute:
                    name:
                      lit: Here
                    value:
                      lit: "2"
          - setScreenPop:
              name: Set Screen Pop
              screenPopScript:
                BFSI_POC:
                  inputs:
                    Screen Pop URL:
                      lit: ""
                    ANI:
                      exp: Flow.ani
                    Customer Name:
                      exp: Flow.Name
                    Account Number:
                      exp: Flow.AccntnoMasked
                    Authentication:
                      exp: Flow.Auth
                    SF_Popup:
                      lit: "https://cognizant-btt-dev-ed.my.salesforce.com/?ec=302&startURL=%2Fvisualforce%2Fsession%3Furl%3Dhttps%253A%252F%252Fcognizant-btt-dev-ed.lightning.force.com%252Flightning%252Fo%252FUserAppMenuItem%252Fhome"
                    Balance:
                      exp: Flow.Mbalance
                    Conv1:
                      lit: ""
                    Conv2:
                      lit: ""
                    Conv3:
                      lit: ""
                    Conv4:
                      lit: ""
                    Conv5:
                      lit: ""
                    Notes1:
                      lit: ""
                    Notes2:
                      lit: ""
                    Notes3:
                      lit: ""
                    Notes4:
                      lit: ""
                    Notes5:
                      lit: ""
          - transferToAcd:
              name: Transfer to ACD
              targetQueue:
                lit:
                  name: BFSI Queue
              priority:
                lit: 0
              preferredAgents:
                noValue: true
              languageSkill:
                noValue: true
              directAgent:
                noValue: true
              failureOutputs:
                errorType:
                  noValue: true
                errorMessage:
                  noValue: true
              outputs:
                failure:
                  actions:
                    - disconnect:
                        name: Disconnect
    - task:
        name: Existing Ticket
        refId: Existing Ticket_1050
        actions:
          - updateData:
              name: Update Data
              statements:
                - dateTime:
                    variable: Flow.CreatedTime_D
                    value:
                      exp: "MakeDateTime(ToInt(GetAt(Split(Flow.CreatedDate,\"-\"),0)), ToInt(GetAt(Split(Flow.CreatedDate,\"-\"),1)), ToInt(GetAt(Split(Flow.CreatedDate,\"-\"),2)), 0, 0, 0)\n"
                - dateTime:
                    variable: Flow.LastUpdated_D
                    value:
                      exp: MakeDateTime(ToInt(GetAt(Split(Flow.LastModifiedDate,"-"),0)), ToInt(GetAt(Split(Flow.LastModifiedDate,"-"),1)), ToInt(GetAt(Split(Flow.LastModifiedDate,"-"),2)), 0, 0, 0)
          - playAudio:
              name: Play Audio
              audio:
                exp: AudioPlaybackOptions(Append(ToAudioTTS("We notice that the ticket was opened on "), ToAudioDate(Flow.CreatedTime_D), ToAudioBlank(500), ToAudioTTS("Status of the ticket is still in progress  and was last updated on "), ToAudioDate(Flow.LastUpdated_D)), true)
          - setParticipantData:
              name: Set Participant Data
              attributes:
                - attribute:
                    name:
                      lit: TicketType
                    value:
                      lit: RecentTicket
          - jumpToMenu:
              name: Jump to Menu
              targetMenuRef: "/inboundCall/menus/menu[Hear Recent ticket status again?_1202]"
    - task:
        name: Fund
        refId: Fund_195
        variables:
          - stringVariable:
              name: Task.creditcard
              initialValue:
                noValue: true
              isInput: false
              isOutput: false
        actions:
          - disconnect:
              name: Disconnect
    - task:
        name: Initial Task
        refId: Initial Task_176
        actions:
          - transcription:
              name: Transcription
              enableTranscription:
                lit: true
          - enableParticipantRecord:
              name: Enable Participant Recording
          - updateData:
              name: Update Data
              statements:
                - string:
                    variable: Flow.ani
                    value:
                      exp: "\"+919790383893\""
                - string:
                    variable: Flow.Name
                    value:
                      lit: Stark
          - callData:
              name: Call Data Action
              processingPrompt:
                noValue: true
              timeout:
                lit:
                  minutes: 1
              category:
                Genesys Cloud Data Actions:
                  dataAction:
                    External Contact Search -BFSI(Don't Delete):
                      inputs:
                        ContactNumber:
                          exp: Flow.ani
                      successOutputs:
                        FirstName:
                          var: Flow.Name
                        LastName:
                          noValue: true
                        ContactID:
                          var: Flow.ExtContractID
          - updateData:
              name: Update Data - remove later
              statements:
                - string:
                    variable: Flow.Name
                    value:
                      lit: Stark
          - updateData:
              name: Update Data
              statements:
                - string:
                    variable: Flow.ani
                    value:
                      exp: "\"+14372146182\""
          - playAudio:
              name: Play Audio
              audio:
                exp: AudioPlaybackOptions(Append(ToAudioTTS("Hello"), ToAudioTTS(Flow.Name), ToAudioTTS(", Welcome to the BFSI Bank")), false)
          - updateData:
              name: Update Data
              statements:
                - string:
                    variable: Flow.Auth
                    value:
                      lit: N
                - integer:
                    variable: Flow.DialogRetryCounter
                    value:
                      lit: 0
          - callData:
              name: Call Data Action
              processingPrompt:
                noValue: true
              timeout:
                lit:
                  minutes: 1
              category:
                Genesys Cloud Data Actions:
                  dataAction:
                    External Contact Last Note -BFSI(Don't Delete):
                      inputs:
                        ContactID:
                          exp: Flow.ExtContractID
                      successOutputs:
                        NoteID:
                          noValue: true
                        NoteText:
                          var: Flow.LastNote
                        EntityType:
                          noValue: true
                        ModifyDate:
                          noValue: true
          - callData:
              name: Call Data Action
              processingPrompt:
                noValue: true
              timeout:
                lit:
                  minutes: 1
              category:
                Genesys Cloud Data Actions:
                  dataAction:
                    External Contact Update Note -BFSI(Don't Delete):
                      inputs:
                        contactID:
                          exp: Flow.ExtContractID
                        NoteText:
                          exp: "\"Initial \" + ToString(GetCurrentDateTimeUtc()) + \";\" + Call.ConversationId"
                        NoteID:
                          noValue: true
          - jumpToMenu:
              name: Jump to Menu
              targetMenuRef: "/inboundCall/menus/menu[Language Selection_10]"
    - task:
        name: Pin
        refId: Pin_200
        variables:
          - stringVariable:
              name: Task.creditcard
              initialValue:
                noValue: true
              isInput: false
              isOutput: false
        actions:
          - disconnect:
              name: Disconnect
    - task:
        name: Previous Past ticket Status by ticket number
        refId: Previous Past ticket Status by ticket number_1285
        variables:
          - stringVariable:
              name: Task.TicketStatusByNumber
              initialValue:
                noValue: true
              isInput: false
              isOutput: false
        actions:
          - collectInput:
              name: Collect Input
              inputData:
                var: Task.TicketStatusByNumber
              digits:
                range:
                  terminatingDtmf: "digit_#"
                  min: 1
                  max: 10
              interDigitTimeout:
                noValue: true
              noEntryTimeout:
                noValue: true
              inputAudio:
                tts: "Please enter a ticket number to get the information that you are looking for. \nFollowed by # key"
              includeTerminatingDtmfInResultData: false
              acceptJustStar:
                lit: false
              acceptJustPound:
                lit: false
              verificationType: none
          - setParticipantData:
              name: Set Participant Data
              attributes:
                - attribute:
                    name:
                      lit: TicketType
                    value:
                      lit: PastPreviousTicket
          - jumpToMenu:
              name: Jump to Menu
              targetMenuRef: "/inboundCall/menus/menu[Hear Recent ticket status again?_1202]"
    - task:
        name: Transaction
        refId: Transaction_185
        variables:
          - stringVariable:
              name: Task.creditcard
              initialValue:
                noValue: true
              isInput: false
              isOutput: false
        actions:
          - dataTableLookup:
              name: Data Table Lookup
              lookupValue:
                exp: Flow.Accountno
              dataTable:
                BFSI Transaction DB:
                  foundOutputs:
                    Tamount:
                      var: Flow.Tamount
                    TDate:
                      var: Flow.TDate
                    TCheckNo:
                      var: Flow.TCheckNo
                    Pamount:
                      var: Flow.Pamount
                    PDate:
                      var: Flow.PDate
                    PCheckNo:
                      var: Flow.PCheckNo
                    RBalance:
                      var: Flow.RBalance
                    TType:
                      var: Flow.TType
                    FromType:
                      noValue: true
                    ToType:
                      noValue: true
                  failureOutputs:
                    errorType:
                      noValue: true
                    errorMessage:
                      noValue: true
          - updateData:
              name: Posted
              statements:
                - integer:
                    variable: Flow.PostedCounter
                    value:
                      lit: 0
                - stringCollection:
                    variable: Flow.PostedAmountList
                    value:
                      lit:
                        - lit: "1000"
                        - lit: "2300"
                        - lit: "4000"
                - stringCollection:
                    variable: Flow.PostedTransType
                    value:
                      lit:
                        - lit: Pos_A
                        - lit: Pos_C
                        - lit: Pos_A
                - dateTimeCollection:
                    variable: Flow.PostedDateList
                    value:
                      lit:
                        - lit:
                            year: 2023
                            month: 8
                            day: 2
                            hour: 0
                            minute: 0
                            second: 0
                        - lit:
                            year: 2023
                            month: 7
                            day: 31
                            hour: 0
                            minute: 0
                            second: 0
                        - lit:
                            year: 2023
                            month: 7
                            day: 23
                            hour: 0
                            minute: 0
                            second: 0
                        - lit:
                            year: 2023
                            month: 7
                            day: 13
                            hour: 0
                            minute: 0
                            second: 0
                        - lit:
                            year: 2023
                            month: 7
                            day: 5
                            hour: 0
                            minute: 0
                            second: 0
                - integerCollection:
                    variable: Flow.PostedCheckList
                    value:
                      lit:
                        - lit: 800856784356
                        - lit: 664793028490
                        - lit: 236723927300
          - updateData:
              name: Pending
              statements:
                - integer:
                    variable: Flow.PendingCounter
                    value:
                      lit: 0
                - stringCollection:
                    variable: Flow.PendingAmountList
                    value:
                      lit:
                        - lit: "3500"
                        - lit: "1500"
                - stringCollection:
                    variable: Flow.PendingTransType
                    value:
                      lit:
                        - lit: Pos_A
                        - lit: Pos_C
                - dateTimeCollection:
                    variable: Flow.PendingDateList
                    value:
                      lit:
                        - lit:
                            year: 2023
                            month: 7
                            day: 26
                            hour: 0
                            minute: 0
                            second: 0
                        - lit:
                            year: 2023
                            month: 7
                            day: 15
                            hour: 0
                            minute: 0
                            second: 0
                - integerCollection:
                    variable: Flow.PendingCheckList
                    value:
                      lit:
                        - lit: 488309920022
                        - lit: 563400932332
                - stringCollection:
                    variable: Flow.PendingTransType
                    value:
                      lit:
                        - lit: Pos_A
                        - lit: Pos_C
          - playAudio:
              name: Play Audio
              audio:
                tts: Your Posted Transactions are as follows
          - jumpToMenu:
              name: Jump to Menu
              targetMenuRef: "/inboundCall/menus/menu[Posted Transaction History_687]"
    - task:
        name: Transfer Amount
        refId: Transfer Amount_822
        variables:
          - integerVariable:
              name: Task.Amount
              initialValue:
                noValue: true
              isInput: false
              isOutput: false
        actions:
          - loop:
              name: Loop
              currentIndex:
                var: Task.Amount
              loopCount:
                lit: 3
              outputs:
                loop:
                  actions:
                    - collectInput:
                        name: Collect Input
                        inputData:
                          var: Flow.Amount
                        digits:
                          range:
                            min: 1
                            max: 20
                        interDigitTimeout:
                          noValue: true
                        noEntryTimeout:
                          noValue: true
                        inputAudio:
                          tts: Enter the amount you want to transfer
                        acceptJustStar:
                          lit: false
                        acceptJustPound:
                          lit: false
                        verificationType: none
                        outputs:
                          success:
                            actions:
                              - jumpToMenu:
                                  name: Jump to Menu
                                  targetMenuRef: "/inboundCall/menus/menu[Confirm Fund Transfer_821]"
                          failure:
                            actions:
                              - playAudio:
                                  name: Play Audio
                                  audio:
                                    tts: I did not get any input. Could you please enter the amount you would like to transfer?
          - jumpToMenu:
              name: Jump to Menu
              targetMenuRef: "/inboundCall/menus/menu[ABC Bank Main Menu_127]"
